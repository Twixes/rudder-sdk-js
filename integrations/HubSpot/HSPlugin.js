var HSPlugin=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=4,r=function(){var e;n<=2&&(e=console).log.apply(e,arguments)};return function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.hubId=e.hubID,this.name="HS"}var o,i,s;return o=n,(i=[{key:"init",value:function(){!function(e,t){r("in script loader=== ".concat(e));var n=document.createElement("script");n.src=t,n.async=!1,n.type="text/javascript",n.id=e;var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}("hubspot-integration","http://js.hs-scripts.com/".concat(this.hubId,".js")),r("===in init HS===")}},{key:"identify",value:function(t){r("in HubspotAnalyticsManager identify");var n=t.message.context.traits,o={};for(var i in n)if(Object.getOwnPropertyDescriptor(n,i)&&n[i]){var s=i;"[object Date]"==Object.prototype.toString.call(n[i])?o[s]=n[i].getTime():o[s]=n[i]}var a=t.message.context.user_properties;for(var p in a)Object.getOwnPropertyDescriptor(a,p)&&a[p]&&(o[p]=a[p]);r(o),void 0!==("undefined"==typeof window?"undefined":e(window))&&(window._hsq=window._hsq||[]).push(["identify",o])}},{key:"track",value:function(e){r("in HubspotAnalyticsManager track");var t=window._hsq=window._hsq||[],n={};n.id=e.message.event,e.message.properties&&(e.message.properties.revenue||e.message.properties.value)&&(n.value=e.message.properties.revenue||e.message.properties.value),t.push(["trackEvent",n])}},{key:"page",value:function(e){r("in HubspotAnalyticsManager page");var t=window._hsq=window._hsq||[];e.message.properties&&e.message.properties.path&&t.push(["setPath",e.message.properties.path]),t.push(["trackPageView"])}},{key:"isLoaded",value:function(){return r("in hubspot isLoaded"),!(!window._hsq||window._hsq.push===Array.prototype.push)}},{key:"isReady",value:function(){return!(!window._hsq||window._hsq.push===Array.prototype.push)}}])&&t(o.prototype,i),s&&t(o,s),n}()}();
//# sourceMappingURL=HSPlugin.js.map

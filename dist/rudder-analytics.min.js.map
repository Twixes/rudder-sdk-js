{"version":3,"file":"rudder-analytics.min.js","sources":["../node_modules/component-emitter/index.js","../node_modules/trim/index.js","../node_modules/component-querystring/index.js","../node_modules/component-querystring/node_modules/component-type/index.js","../node_modules/lodash.merge/index.js","../node_modules/@ndhoule/keys/index.js","../node_modules/@ndhoule/each/index.js","../node_modules/@ndhoule/foldl/index.js","../node_modules/@segment/utm-params/lib/index.js","../node_modules/component-url/index.js","../utils/logUtil.js","../integrations/integration_cname.js","../integrations/client_server_name.js","../utils/constants.js","../utils/utils.js","../utils/RudderApp.js","../utils/RudderInfo.js","../utils/RudderContext.js","../utils/RudderMessage.js","../utils/RudderElement.js","../utils/RudderElementBuilder.js","../node_modules/crypto-js/core.js","../node_modules/crypto-js/enc-base64.js","../node_modules/crypto-js/md5.js","../node_modules/crypto-js/sha1.js","../node_modules/crypto-js/hmac.js","../node_modules/crypto-js/evpkdf.js","../node_modules/crypto-js/cipher-core.js","../node_modules/crypto-js/aes.js","../node_modules/crypto-js/enc-utf8.js","../node_modules/component-type/index.js","../node_modules/@ndhoule/clone/index.js","../node_modules/ms/index.js","../node_modules/rudder-component-cookie/node_modules/debug/debug.js","../node_modules/rudder-component-cookie/node_modules/debug/browser.js","../node_modules/rudder-component-cookie/index.js","../node_modules/@ndhoule/drop/index.js","../node_modules/@ndhoule/rest/index.js","../node_modules/@ndhoule/defaults/index.js","../node_modules/json3/lib/json3.js","../node_modules/component-cookie/node_modules/debug/debug.js","../node_modules/component-cookie/node_modules/debug/browser.js","../node_modules/component-cookie/index.js","../node_modules/@segment/top-domain/lib/index.js","../utils/storage/cookie.js","../node_modules/@segment/store/src/store.js","../utils/storage/store.js","../utils/storage/storage.js","../node_modules/uuid/lib/bytesToUuid.js","../utils/storage/index.js","../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../node_modules/@segment/localstorage-retry/lib/engine.js","../node_modules/@segment/localstorage-retry/lib/store.js","../node_modules/@segment/localstorage-retry/lib/schedule.js","../node_modules/debug/debug.js","../node_modules/@segment/localstorage-retry/lib/index.js","../utils/EventRepository.js","../integrations/ScriptLoader.js","../analytics.js"],"sourcesContent":["\n/**\n * Expose `Emitter`.\n */\n\nif (typeof module !== 'undefined') {\n  module.exports = Emitter;\n}\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n","\n/**\n * Module dependencies.\n */\n\nvar trim = require('trim');\nvar type = require('type');\n\nvar pattern = /(\\w+)\\[(\\d+)\\]/\n\n/**\n * Safely encode the given string\n * \n * @param {String} str\n * @return {String}\n * @api private\n */\n\nvar encode = function(str) {\n  try {\n    return encodeURIComponent(str);\n  } catch (e) {\n    return str;\n  }\n};\n\n/**\n * Safely decode the string\n * \n * @param {String} str\n * @return {String}\n * @api private\n */\n\nvar decode = function(str) {\n  try {\n    return decodeURIComponent(str.replace(/\\+/g, ' '));\n  } catch (e) {\n    return str;\n  }\n}\n\n/**\n * Parse the given query `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api public\n */\n\nexports.parse = function(str){\n  if ('string' != typeof str) return {};\n\n  str = trim(str);\n  if ('' == str) return {};\n  if ('?' == str.charAt(0)) str = str.slice(1);\n\n  var obj = {};\n  var pairs = str.split('&');\n  for (var i = 0; i < pairs.length; i++) {\n    var parts = pairs[i].split('=');\n    var key = decode(parts[0]);\n    var m;\n\n    if (m = pattern.exec(key)) {\n      obj[m[1]] = obj[m[1]] || [];\n      obj[m[1]][m[2]] = decode(parts[1]);\n      continue;\n    }\n\n    obj[parts[0]] = null == parts[1]\n      ? ''\n      : decode(parts[1]);\n  }\n\n  return obj;\n};\n\n/**\n * Stringify the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api public\n */\n\nexports.stringify = function(obj){\n  if (!obj) return '';\n  var pairs = [];\n\n  for (var key in obj) {\n    var value = obj[key];\n\n    if ('array' == type(value)) {\n      for (var i = 0; i < value.length; ++i) {\n        pairs.push(encode(key + '[' + i + ']') + '=' + encode(value[i]));\n      }\n      continue;\n    }\n\n    pairs.push(encode(key) + '=' + encode(obj[key]));\n  }\n\n  return pairs.join('&');\n};\n","/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val)\n\n  return typeof val;\n};\n","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n","'use strict';\n\nvar hop = Object.prototype.hasOwnProperty;\nvar strCharAt = String.prototype.charAt;\nvar toStr = Object.prototype.toString;\n\n/**\n * Returns the character at a given index.\n *\n * @param {string} str\n * @param {number} index\n * @return {string|undefined}\n */\n// TODO: Move to a library\nvar charAt = function(str, index) {\n  return strCharAt.call(str, index);\n};\n\n/**\n * hasOwnProperty, wrapped as a function.\n *\n * @name has\n * @api private\n * @param {*} context\n * @param {string|number} prop\n * @return {boolean}\n */\n\n// TODO: Move to a library\nvar has = function has(context, prop) {\n  return hop.call(context, prop);\n};\n\n/**\n * Returns true if a value is a string, otherwise false.\n *\n * @name isString\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n\n// TODO: Move to a library\nvar isString = function isString(val) {\n  return toStr.call(val) === '[object String]';\n};\n\n/**\n * Returns true if a value is array-like, otherwise false. Array-like means a\n * value is not null, undefined, or a function, and has a numeric `length`\n * property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isArrayLike = function isArrayLike(val) {\n  return val != null && (typeof val !== 'function' && typeof val.length === 'number');\n};\n\n\n/**\n * indexKeys\n *\n * @name indexKeys\n * @api private\n * @param {} target\n * @param {Function} pred\n * @return {Array}\n */\nvar indexKeys = function indexKeys(target, pred) {\n  pred = pred || has;\n\n  var results = [];\n\n  for (var i = 0, len = target.length; i < len; i += 1) {\n    if (pred(target, i)) {\n      results.push(String(i));\n    }\n  }\n\n  return results;\n};\n\n/**\n * Returns an array of an object's owned keys.\n *\n * @name objectKeys\n * @api private\n * @param {*} target\n * @param {Function} pred Predicate function used to include/exclude values from\n * the resulting array.\n * @return {Array}\n */\nvar objectKeys = function objectKeys(target, pred) {\n  pred = pred || has;\n\n  var results = [];\n\n  for (var key in target) {\n    if (pred(target, key)) {\n      results.push(String(key));\n    }\n  }\n\n  return results;\n};\n\n/**\n * Creates an array composed of all keys on the input object. Ignores any non-enumerable properties.\n * More permissive than the native `Object.keys` function (non-objects will not throw errors).\n *\n * @name keys\n * @api public\n * @category Object\n * @param {Object} source The value to retrieve keys from.\n * @return {Array} An array containing all the input `source`'s keys.\n * @example\n * keys({ likes: 'avocado', hates: 'pineapple' });\n * //=> ['likes', 'pineapple'];\n *\n * // Ignores non-enumerable properties\n * var hasHiddenKey = { name: 'Tim' };\n * Object.defineProperty(hasHiddenKey, 'hidden', {\n *   value: 'i am not enumerable!',\n *   enumerable: false\n * })\n * keys(hasHiddenKey);\n * //=> ['name'];\n *\n * // Works on arrays\n * keys(['a', 'b', 'c']);\n * //=> ['0', '1', '2']\n *\n * // Skips unpopulated indices in sparse arrays\n * var arr = [1];\n * arr[4] = 4;\n * keys(arr);\n * //=> ['0', '4']\n */\nvar keys = function keys(source) {\n  if (source == null) {\n    return [];\n  }\n\n  // IE6-8 compatibility (string)\n  if (isString(source)) {\n    return indexKeys(source, charAt);\n  }\n\n  // IE6-8 compatibility (arguments)\n  if (isArrayLike(source)) {\n    return indexKeys(source, has);\n  }\n\n  return objectKeys(source);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = keys;\n","'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar keys = require('@ndhoule/keys');\n\nvar objToString = Object.prototype.toString;\n\n/**\n * Tests if a value is a number.\n *\n * @name isNumber\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if `val` is a number, otherwise `false`.\n */\n// TODO: Move to library\nvar isNumber = function isNumber(val) {\n  var type = typeof val;\n  return type === 'number' || (type === 'object' && objToString.call(val) === '[object Number]');\n};\n\n/**\n * Tests if a value is an array.\n *\n * @name isArray\n * @api private\n * @param {*} val The value to test.\n * @return {boolean} Returns `true` if the value is an array, otherwise `false`.\n */\n// TODO: Move to library\nvar isArray = typeof Array.isArray === 'function' ? Array.isArray : function isArray(val) {\n  return objToString.call(val) === '[object Array]';\n};\n\n/**\n * Tests if a value is array-like. Array-like means the value is not a function and has a numeric\n * `.length` property.\n *\n * @name isArrayLike\n * @api private\n * @param {*} val\n * @return {boolean}\n */\n// TODO: Move to library\nvar isArrayLike = function isArrayLike(val) {\n  return val != null && (isArray(val) || (val !== 'function' && isNumber(val.length)));\n};\n\n/**\n * Internal implementation of `each`. Works on arrays and array-like data structures.\n *\n * @name arrayEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array} array The array(-like) structure to iterate over.\n * @return {undefined}\n */\nvar arrayEach = function arrayEach(iterator, array) {\n  for (var i = 0; i < array.length; i += 1) {\n    // Break iteration early if `iterator` returns `false`\n    if (iterator(array[i], i, array) === false) {\n      break;\n    }\n  }\n};\n\n/**\n * Internal implementation of `each`. Works on objects.\n *\n * @name baseEach\n * @api private\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Object} object The object to iterate over.\n * @return {undefined}\n */\nvar baseEach = function baseEach(iterator, object) {\n  var ks = keys(object);\n\n  for (var i = 0; i < ks.length; i += 1) {\n    // Break iteration early if `iterator` returns `false`\n    if (iterator(object[ks[i]], ks[i], object) === false) {\n      break;\n    }\n  }\n};\n\n/**\n * Iterate over an input collection, invoking an `iterator` function for each element in the\n * collection and passing to it three arguments: `(value, index, collection)`. The `iterator`\n * function can end iteration early by returning `false`.\n *\n * @name each\n * @api public\n * @param {Function(value, key, collection)} iterator The function to invoke per iteration.\n * @param {Array|Object|string} collection The collection to iterate over.\n * @return {undefined} Because `each` is run only for side effects, always returns `undefined`.\n * @example\n * var log = console.log.bind(console);\n *\n * each(log, ['a', 'b', 'c']);\n * //-> 'a', 0, ['a', 'b', 'c']\n * //-> 'b', 1, ['a', 'b', 'c']\n * //-> 'c', 2, ['a', 'b', 'c']\n * //=> undefined\n *\n * each(log, 'tim');\n * //-> 't', 2, 'tim'\n * //-> 'i', 1, 'tim'\n * //-> 'm', 0, 'tim'\n * //=> undefined\n *\n * // Note: Iteration order not guaranteed across environments\n * each(log, { name: 'tim', occupation: 'enchanter' });\n * //-> 'tim', 'name', { name: 'tim', occupation: 'enchanter' }\n * //-> 'enchanter', 'occupation', { name: 'tim', occupation: 'enchanter' }\n * //=> undefined\n */\nvar each = function each(iterator, collection) {\n  return (isArrayLike(collection) ? arrayEach : baseEach).call(this, iterator, collection);\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = each;\n","'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar each = require('@ndhoule/each');\n\n/**\n * Reduces all the values in a collection down into a single value. Does so by iterating through the\n * collection from left to right, repeatedly calling an `iterator` function and passing to it four\n * arguments: `(accumulator, value, index, collection)`.\n *\n * Returns the final return value of the `iterator` function.\n *\n * @name foldl\n * @api public\n * @param {Function} iterator The function to invoke per iteration.\n * @param {*} accumulator The initial accumulator value, passed to the first invocation of `iterator`.\n * @param {Array|Object} collection The collection to iterate over.\n * @return {*} The return value of the final call to `iterator`.\n * @example\n * foldl(function(total, n) {\n *   return total + n;\n * }, 0, [1, 2, 3]);\n * //=> 6\n *\n * var phonebook = { bob: '555-111-2345', tim: '655-222-6789', sheila: '655-333-1298' };\n *\n * foldl(function(results, phoneNumber) {\n *  if (phoneNumber[0] === '6') {\n *    return results.concat(phoneNumber);\n *  }\n *  return results;\n * }, [], phonebook);\n * // => ['655-222-6789', '655-333-1298']\n */\nvar foldl = function foldl(iterator, accumulator, collection) {\n  if (typeof iterator !== 'function') {\n    throw new TypeError('Expected a function but received a ' + typeof iterator);\n  }\n\n  each(function(val, i, collection) {\n    accumulator = iterator(accumulator, val, i, collection);\n  }, collection);\n\n  return accumulator;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = foldl;\n","'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar foldl = require('@ndhoule/foldl');\nvar parse = require('component-querystring').parse;\n\n/**\n * hasOwnProperty reference.\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Get all utm params from the given `querystring`\n *\n * @param {String} query\n * @return {Object}\n * @api private\n */\n\nfunction utm(query) {\n  // Remove leading ? if present\n  if (query.charAt(0) === '?') {\n    query = query.substring(1);\n  }\n\n  query = query.replace(/\\?/g, '&');\n\n  var param;\n  var params = parse(query);\n  var results = {};\n\n  for (var key in params) {\n    if (has.call(params, key)) {\n      if (key.substr(0, 4) === 'utm_') {\n        param = key.substr(4);\n        if (param === 'campaign') param = 'name';\n        results[param] = params[key];\n      }\n    }\n  }\n\n  return results;\n}\n\nvar allowedKeys = {\n  name: true,\n  term: true,\n  source: true,\n  medium: true,\n  content: true\n};\n\n/**\n * Get strict utm params - from the given `querystring`\n *\n * @param {String} query\n * @return {Object}\n * @api private\n */\n\nfunction strict(query) {\n  return foldl(function(acc, val, key) {\n    if (has.call(allowedKeys, key)) acc[key] = val;\n    return acc;\n  }, {}, utm(query));\n}\n\n/*\n * Exports.\n */\n\nmodule.exports = utm;\nmodule.exports.strict = strict;\n","\n/**\n * Parse the given `url`.\n *\n * @param {String} str\n * @return {Object}\n * @api public\n */\n\nexports.parse = function(url){\n  var a = document.createElement('a');\n  a.href = url;\n  return {\n    href: a.href,\n    host: a.host || location.host,\n    port: ('0' === a.port || '' === a.port) ? port(a.protocol) : a.port,\n    hash: a.hash,\n    hostname: a.hostname || location.hostname,\n    pathname: a.pathname.charAt(0) != '/' ? '/' + a.pathname : a.pathname,\n    protocol: !a.protocol || ':' == a.protocol ? location.protocol : a.protocol,\n    search: a.search,\n    query: a.search.slice(1)\n  };\n};\n\n/**\n * Check if `url` is absolute.\n *\n * @param {String} url\n * @return {Boolean}\n * @api public\n */\n\nexports.isAbsolute = function(url){\n  return 0 == url.indexOf('//') || !!~url.indexOf('://');\n};\n\n/**\n * Check if `url` is relative.\n *\n * @param {String} url\n * @return {Boolean}\n * @api public\n */\n\nexports.isRelative = function(url){\n  return !exports.isAbsolute(url);\n};\n\n/**\n * Check if `url` is cross domain.\n *\n * @param {String} url\n * @return {Boolean}\n * @api public\n */\n\nexports.isCrossDomain = function(url){\n  url = exports.parse(url);\n  var location = exports.parse(window.location.href);\n  return url.hostname !== location.hostname\n    || url.port !== location.port\n    || url.protocol !== location.protocol;\n};\n\n/**\n * Return default port for `protocol`.\n *\n * @param  {String} protocol\n * @return {String}\n * @api private\n */\nfunction port (protocol){\n  switch (protocol) {\n    case 'http:':\n      return 80;\n    case 'https:':\n      return 443;\n    default:\n      return location.port;\n  }\n}\n","const LOG_LEVEL_INFO = 1;\nconst LOG_LEVEL_DEBUG = 2;\nconst LOG_LEVEL_WARN = 3;\nconst LOG_LEVEL_ERROR = 4;\nlet LOG_LEVEL = LOG_LEVEL_ERROR;\n\nconst logger = {\n  setLogLevel(logLevel) {\n    switch (logLevel.toUpperCase()) {\n      case \"INFO\":\n        LOG_LEVEL = LOG_LEVEL_INFO;\n        return;\n      case \"DEBUG\":\n        LOG_LEVEL = LOG_LEVEL_DEBUG;\n        return;\n      case \"WARN\":\n        LOG_LEVEL = LOG_LEVEL_WARN;\n    }\n  },\n\n  info() {\n    if (LOG_LEVEL <= LOG_LEVEL_INFO) {\n      console.log(...arguments);\n    }\n  },\n\n  debug() {\n    if (LOG_LEVEL <= LOG_LEVEL_DEBUG) {\n      console.log(...arguments);\n    }\n  },\n\n  warn() {\n    if (LOG_LEVEL <= LOG_LEVEL_WARN) {\n      console.log(...arguments);\n    }\n  },\n\n  error() {\n    if (LOG_LEVEL <= LOG_LEVEL_ERROR) {\n      console.log(...arguments);\n    }\n  },\n};\nexport default logger;\n","// for sdk side native integration identification\n// add a mapping from common names to index.js exported key names as identified by Rudder\nconst commonNames = {\n  All: \"All\",\n  all: \"All\",\n  \"Google Analytics\": \"GA\",\n  GoogleAnalytics: \"GA\",\n  GA: \"GA\",\n  \"Google Ads\": \"GOOGLEADS\",\n  GoogleAds: \"GOOGLEADS\",\n  GOOGLEADS: \"GOOGLEADS\",\n  Braze: \"BRAZE\",\n  BRAZE: \"BRAZE\",\n  Chartbeat: \"CHARTBEAT\",\n  CHARTBEAT: \"CHARTBEAT\",\n  Comscore: \"COMSCORE\",\n  COMSCORE: \"COMSCORE\",\n  Customerio: \"CUSTOMERIO\",\n  \"Customer.io\": \"CUSTOMERIO\",\n  \"FB Pixel\": \"FACEBOOK_PIXEL\",\n  \"Facebook Pixel\": \"FACEBOOK_PIXEL\",\n  FB_PIXEL: \"FACEBOOK_PIXEL\",\n  \"Google Tag Manager\": \"GOOGLETAGMANAGER\",\n  GTM: \"GTM\",\n  Hotjar: \"HOTJAR\",\n  hotjar: \"HOTJAR\",\n  HOTJAR: \"HOTJAR\",\n  Hubspot: \"HS\",\n  HUBSPOT: \"HS\",\n  Intercom: \"INTERCOM\",\n  INTERCOM: \"INTERCOM\",\n  Keen: \"KEEN\",\n  \"Keen.io\": \"KEEN\",\n  KEEN: \"KEEN\",\n  Kissmetrics: \"KISSMETRICS\",\n  KISSMETRICS: \"KISSMETRICS\",\n  Lotame: \"LOTAME\",\n  LOTAME: \"LOTAME\",\n  \"Visual Website Optimizer\": \"VWO\",\n  VWO: \"VWO\",\n  OPTIMIZELY: \"OPTIMIZELY\",\n  Optimizely: \"OPTIMIZELY\",\n  FULLSTORY: \"FULLSTORY\",\n  Fullstory: \"FULLSTORY\",\n  BUGSNAG: \"BUGSNAG\",\n  TVSQUARED: \"TVSQUARED\",\n};\n\nexport { commonNames };\n","// from client native integration name to server identified display name\n// add a mapping from Rudder identified key names to Rudder server recognizable names\nconst clientToServerNames = {\n  All: \"All\",\n  GA: \"Google Analytics\",\n  GOOGLEADS: \"Google Ads\",\n  BRAZE: \"Braze\",\n  CHARTBEAT: \"Chartbeat\",\n  COMSCORE: \"Comscore\",\n  CUSTOMERIO: \"Customer IO\",\n  FACEBOOK_PIXEL: \"Facebook Pixel\",\n  GTM: \"Google Tag Manager\",\n  HOTJAR: \"Hotjar\",\n  HS: \"HubSpot\",\n  INTERCOM: \"Intercom\",\n  KEEN: \"Keen\",\n  KISSMETRICS: \"Kiss Metrics\",\n  LOTAME: \"Lotame\",\n  VWO: \"VWO\",\n  OPTIMIZELY: \"Optimizely\",\n  FULLSTORY: \"Fullstory\",\n  TVSQUUARED: \"TVSquared\"\n};\n\nexport { clientToServerNames };\n","// Reserved Keywords for properties/triats\nconst ReservedPropertyKeywords = [\n  \"anonymous_id\",\n  \"id\",\n  \"sent_at\",\n  \"received_at\",\n  \"timestamp\",\n  \"original_timestamp\",\n  \"event_text\",\n  \"event\",\n];\n\n// Message Type enumeration\nconst MessageType = {\n  TRACK: \"track\",\n  PAGE: \"page\",\n  // SCREEN: \"screen\",\n  IDENTIFY: \"identify\",\n};\n\n// ECommerce Parameter Names Enumeration\nconst ECommerceParamNames = {\n  QUERY: \"query\",\n  PRICE: \"price\",\n  PRODUCT_ID: \"product_id\",\n  CATEGORY: \"category\",\n  CURRENCY: \"currency\",\n  LIST_ID: \"list_id\",\n  PRODUCTS: \"products\",\n  WISHLIST_ID: \"wishlist_id\",\n  WISHLIST_NAME: \"wishlist_name\",\n  QUANTITY: \"quantity\",\n  CART_ID: \"cart_id\",\n  CHECKOUT_ID: \"checkout_id\",\n  TOTAL: \"total\",\n  REVENUE: \"revenue\",\n  ORDER_ID: \"order_id\",\n  FILTERS: \"filters\",\n  SORTS: \"sorts\",\n  SHARE_VIA: \"share_via\",\n  SHARE_MESSAGE: \"share_message\",\n  RECIPIENT: \"recipient\",\n};\n// ECommerce Events Enumeration\nconst ECommerceEvents = {\n  PRODUCTS_SEARCHED: \"Products Searched\",\n  PRODUCT_LIST_VIEWED: \"Product List Viewed\",\n  PRODUCT_LIST_FILTERED: \"Product List Filtered\",\n  PROMOTION_VIEWED: \"Promotion Viewed\",\n  PROMOTION_CLICKED: \"Promotion Clicked\",\n  PRODUCT_CLICKED: \"Product Clicked\",\n  PRODUCT_VIEWED: \"Product Viewed\",\n  PRODUCT_ADDED: \"Product Added\",\n  PRODUCT_REMOVED: \"Product Removed\",\n  CART_VIEWED: \"Cart Viewed\",\n  CHECKOUT_STARTED: \"Checkout Started\",\n  CHECKOUT_STEP_VIEWED: \"Checkout Step Viewed\",\n  CHECKOUT_STEP_COMPLETED: \"Checkout Step Completed\",\n  PAYMENT_INFO_ENTERED: \"Payment Info Entered\",\n  ORDER_UPDATED: \"Order Updated\",\n  ORDER_COMPLETED: \"Order Completed\",\n  ORDER_REFUNDED: \"Order Refunded\",\n  ORDER_CANCELLED: \"Order Cancelled\",\n  COUPON_ENTERED: \"Coupon Entered\",\n  COUPON_APPLIED: \"Coupon Applied\",\n  COUPON_DENIED: \"Coupon Denied\",\n  COUPON_REMOVED: \"Coupon Removed\",\n  PRODUCT_ADDED_TO_WISHLIST: \"Product Added to Wishlist\",\n  PRODUCT_REMOVED_FROM_WISHLIST: \"Product Removed from Wishlist\",\n  WISH_LIST_PRODUCT_ADDED_TO_CART: \"Wishlist Product Added to Cart\",\n  PRODUCT_SHARED: \"Product Shared\",\n  CART_SHARED: \"Cart Shared\",\n  PRODUCT_REVIEWED: \"Product Reviewed\",\n};\n\n// Enumeration for integrations supported\nconst RudderIntegrationPlatform = {\n  RUDDERLABS: \"rudderlabs\",\n  GA: \"ga\",\n  AMPLITUDE: \"amplitude\",\n};\n\nconst BASE_URL = \"https://hosted.rudderlabs.com\"; // default to RudderStack\nconst CONFIG_URL = \"https://api.rudderlabs.com/sourceConfig/?p=process.module_type&v=process.package_version\";\nconst INTEGRATION_URL = \"https://cdn.rudderlabs.com/plugins/\";\n\nconst FLUSH_QUEUE_SIZE = 30;\n\nconst FLUSH_INTERVAL_DEFAULT = 5000;\n\nconst MAX_WAIT_FOR_INTEGRATION_LOAD = 10000;\nconst INTEGRATION_LOAD_CHECK_INTERVAL = 1000;\n\nexport {\n  ReservedPropertyKeywords,\n  MessageType,\n  ECommerceParamNames,\n  ECommerceEvents,\n  RudderIntegrationPlatform,\n  BASE_URL,\n  CONFIG_URL,\n  INTEGRATION_URL,\n  FLUSH_QUEUE_SIZE,\n  FLUSH_INTERVAL_DEFAULT,\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n  INTEGRATION_LOAD_CHECK_INTERVAL,\n};\n/* module.exports = {\n  MessageType: MessageType,\n  ECommerceParamNames: ECommerceParamNames,\n  ECommerceEvents: ECommerceEvents,\n  RudderIntegrationPlatform: RudderIntegrationPlatform,\n  BASE_URL: BASE_URL,\n  CONFIG_URL: CONFIG_URL,\n  FLUSH_QUEUE_SIZE: FLUSH_QUEUE_SIZE\n}; */\n","// import * as XMLHttpRequestNode from \"Xmlhttprequest\";\nimport { parse } from \"component-url\";\nimport logger from \"./logUtil\";\nimport { commonNames } from \"../integrations/integration_cname\";\nimport { clientToServerNames } from \"../integrations/client_server_name\";\nimport { CONFIG_URL, ReservedPropertyKeywords } from \"./constants\";\n\n/**\n *\n * Utility method for excluding null and empty values in JSON\n * @param {*} key\n * @param {*} value\n * @returns\n */\nfunction replacer(key, value) {\n  if (value === null || value === undefined) {\n    return undefined;\n  }\n  return value;\n}\n\n/**\n *\n * Utility function for UUID genration\n * @returns\n */\nfunction generateUUID() {\n  // Public Domain/MIT\n  let d = new Date().getTime();\n  if (\n    typeof performance !== \"undefined\" &&\n    typeof performance.now === \"function\"\n  ) {\n    d += performance.now(); // use high-precision timer if available\n  }\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    const r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n  });\n}\n\n/**\n *\n * Utility function to get current time (formatted) for including in sent_at field\n * @returns\n */\nfunction getCurrentTimeFormatted() {\n  const curDateTime = new Date().toISOString();\n  // Keeping same as iso string\n  /* let curDate = curDateTime.split(\"T\")[0];\n  let curTimeExceptMillis = curDateTime\n    .split(\"T\")[1]\n    .split(\"Z\")[0]\n    .split(\".\")[0];\n  let curTimeMillis = curDateTime.split(\"Z\")[0].split(\".\")[1];\n  return curDate + \" \" + curTimeExceptMillis + \"+\" + curTimeMillis; */\n  return curDateTime;\n}\n\n/**\n *\n * Utility function to retrieve configuration JSON from server\n * @param {*} url\n * @param {*} wrappers\n * @param {*} isLoaded\n * @param {*} callback\n */\nfunction getJSON(url, wrappers, isLoaded, callback) {\n  // server-side integration, XHR is node module\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open(\"GET\", url, false);\n  xhr.onload = function () {\n    const { status } = xhr;\n    if (status == 200) {\n      logger.debug(\"status 200\");\n      callback(null, xhr.responseText, wrappers, isLoaded);\n    } else {\n      callback(status);\n    }\n  };\n  xhr.send();\n}\n\n/**\n *\n * Utility function to retrieve configuration JSON from server\n * @param {*} context\n * @param {*} url\n * @param {*} callback\n */\nfunction getJSONTrimmed(context, url, writeKey, callback, emitGlobalQueue) {\n  // server-side integration, XHR is node module\n  const cb_ = callback.bind(context);\n\n  const xhr = new XMLHttpRequest();\n\n  xhr.open(\"GET\", url, true);\n  xhr.setRequestHeader(\"Authorization\", `Basic ${btoa(`${writeKey}:`)}`);\n\n  xhr.onload = function () {\n    const { status } = xhr;\n    if (status == 200) {\n      logger.debug(\"status 200 \" + \"calling callback\");\n      cb_(200, xhr.responseText);\n    } else {\n      handleError(\n        new Error(`request failed with status: ${xhr.status} for url: ${url}`)\n      );\n      cb_(status);\n    }\n  };\n  xhr.ontimeout = emitGlobalQueue;\n  xhr.onerror = emitGlobalQueue\n  xhr.send();\n}\n\nfunction handleError(error, analyticsInstance) {\n  let errorMessage = error.message ? error.message : undefined;\n  let sampleAdBlockTest;\n  try {\n    if (error instanceof Event) {\n      if (error.target && error.target.localName == \"script\") {\n        errorMessage = `error in script loading:: src::  ${error.target.src} id:: ${error.target.id}`;\n        if (analyticsInstance && error.target.src.includes(\"adsbygoogle\")) {\n          sampleAdBlockTest = true;\n          analyticsInstance.page(\n            \"RudderJS-Initiated\",\n            \"ad-block page request\",\n            { path: \"/ad-blocked\", title: errorMessage },\n            analyticsInstance.sendAdblockPageOptions\n          );\n        }\n      }\n    }\n    if (errorMessage && !sampleAdBlockTest) {\n      logger.error(\"[Util] handleError:: \", errorMessage);\n    }\n  } catch (e) {\n    logger.error(\"[Util] handleError:: \", e);\n  }\n}\n\nfunction getDefaultPageProperties() {\n  const canonicalUrl = getCanonicalUrl();\n  const path = canonicalUrl\n    ? parse(canonicalUrl).pathname\n    : window.location.pathname;\n  const { referrer } = document;\n  const { search } = window.location;\n  const { title } = document;\n  const url = getUrl(search);\n\n  return {\n    path,\n    referrer,\n    search,\n    title,\n    url,\n  };\n}\n\nfunction getUrl(search) {\n  const canonicalUrl = getCanonicalUrl();\n  const url = canonicalUrl\n    ? canonicalUrl.indexOf(\"?\") > -1\n      ? canonicalUrl\n      : canonicalUrl + search\n    : window.location.href;\n  const hashIndex = url.indexOf(\"#\");\n  return hashIndex > -1 ? url.slice(0, hashIndex) : url;\n}\n\nfunction getCanonicalUrl() {\n  const tags = document.getElementsByTagName(\"link\");\n  for (var i = 0, tag; (tag = tags[i]); i++) {\n    if (tag.getAttribute(\"rel\") === \"canonical\") {\n      return tag.getAttribute(\"href\");\n    }\n  }\n}\n\nfunction getCurrency(val) {\n  if (!val) return;\n  if (typeof val === \"number\") {\n    return val;\n  }\n  if (typeof val !== \"string\") {\n    return;\n  }\n\n  val = val.replace(/\\$/g, \"\");\n  val = parseFloat(val);\n\n  if (!isNaN(val)) {\n    return val;\n  }\n}\n\nfunction getRevenue(properties, eventName) {\n  let { revenue } = properties;\n  const orderCompletedRegExp = /^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;\n\n  // it's always revenue, unless it's called during an order completion.\n  if (!revenue && eventName && eventName.match(orderCompletedRegExp)) {\n    revenue = properties.total;\n  }\n\n  return getCurrency(revenue);\n}\n\n/**\n *\n *\n * @param {*} integrationObject\n */\nfunction tranformToRudderNames(integrationObject) {\n  Object.keys(integrationObject).forEach((key) => {\n    if (integrationObject.hasOwnProperty(key)) {\n      if (commonNames[key]) {\n        integrationObject[commonNames[key]] = integrationObject[key];\n      }\n      if (key != \"All\") {\n        // delete user supplied keys except All and if except those where oldkeys are not present or oldkeys are same as transformed keys\n        if (commonNames[key] != undefined && commonNames[key] != key) {\n          delete integrationObject[key];\n        }\n      }\n    }\n  });\n}\n\nfunction transformToServerNames(integrationObject) {\n  Object.keys(integrationObject).forEach((key) => {\n    if (integrationObject.hasOwnProperty(key)) {\n      if (clientToServerNames[key]) {\n        integrationObject[clientToServerNames[key]] = integrationObject[key];\n      }\n      if (key != \"All\") {\n        // delete user supplied keys except All and if except those where oldkeys are not present or oldkeys are same as transformed keys\n        if (\n          clientToServerNames[key] != undefined &&\n          clientToServerNames[key] != key\n        ) {\n          delete integrationObject[key];\n        }\n      }\n    }\n  });\n}\n\n/**\n *\n * @param {*} sdkSuppliedIntegrations\n * @param {*} configPlaneEnabledIntegrations\n */\nfunction findAllEnabledDestinations(\n  sdkSuppliedIntegrations,\n  configPlaneEnabledIntegrations\n) {\n  const enabledList = [];\n  if (\n    !configPlaneEnabledIntegrations ||\n    configPlaneEnabledIntegrations.length == 0\n  ) {\n    return enabledList;\n  }\n  let allValue = true;\n  if (typeof configPlaneEnabledIntegrations[0] === \"string\") {\n    if (sdkSuppliedIntegrations.All != undefined) {\n      allValue = sdkSuppliedIntegrations.All;\n    }\n    configPlaneEnabledIntegrations.forEach((intg) => {\n      if (!allValue) {\n        // All false ==> check if intg true supplied\n        if (\n          sdkSuppliedIntegrations[intg] != undefined &&\n          sdkSuppliedIntegrations[intg] == true\n        ) {\n          enabledList.push(intg);\n        }\n      } else {\n        // All true ==> intg true by default\n        let intgValue = true;\n        // check if intg false supplied\n        if (\n          sdkSuppliedIntegrations[intg] != undefined &&\n          sdkSuppliedIntegrations[intg] == false\n        ) {\n          intgValue = false;\n        }\n        if (intgValue) {\n          enabledList.push(intg);\n        }\n      }\n    });\n\n    return enabledList;\n  }\n\n  if (typeof configPlaneEnabledIntegrations[0] === \"object\") {\n    if (sdkSuppliedIntegrations.All != undefined) {\n      allValue = sdkSuppliedIntegrations.All;\n    }\n    configPlaneEnabledIntegrations.forEach((intg) => {\n      if (!allValue) {\n        // All false ==> check if intg true supplied\n        if (\n          sdkSuppliedIntegrations[intg.name] != undefined &&\n          sdkSuppliedIntegrations[intg.name] == true\n        ) {\n          enabledList.push(intg);\n        }\n      } else {\n        // All true ==> intg true by default\n        let intgValue = true;\n        // check if intg false supplied\n        if (\n          sdkSuppliedIntegrations[intg.name] != undefined &&\n          sdkSuppliedIntegrations[intg.name] == false\n        ) {\n          intgValue = false;\n        }\n        if (intgValue) {\n          enabledList.push(intg);\n        }\n      }\n    });\n\n    return enabledList;\n  }\n}\n\n/**\n * reject all null values from array/object\n * @param  {} obj\n * @param  {} fn\n */\nfunction rejectArr(obj, fn) {\n  fn = fn || compact;\n  return type(obj) == \"array\" ? rejectarray(obj, fn) : rejectobject(obj, fn);\n}\n\n/**\n * particular case when rejecting an array\n * @param  {} arr\n * @param  {} fn\n */\nvar rejectarray = function (arr, fn) {\n  const ret = [];\n\n  for (let i = 0; i < arr.length; ++i) {\n    if (!fn(arr[i], i)) ret[ret.length] = arr[i];\n  }\n\n  return ret;\n};\n\n/**\n * Rejecting null from any object other than arrays\n * @param  {} obj\n * @param  {} fn\n *\n */\nvar rejectobject = function (obj, fn) {\n  const ret = {};\n\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k) && !fn(obj[k], k)) {\n      ret[k] = obj[k];\n    }\n  }\n\n  return ret;\n};\n\nfunction compact(value) {\n  return value == null;\n}\n\n/**\n * check type of object incoming in the rejectArr function\n * @param  {} val\n */\nfunction type(val) {\n  switch (Object.prototype.toString.call(val)) {\n    case \"[object Function]\":\n      return \"function\";\n    case \"[object Date]\":\n      return \"date\";\n    case \"[object RegExp]\":\n      return \"regexp\";\n    case \"[object Arguments]\":\n      return \"arguments\";\n    case \"[object Array]\":\n      return \"array\";\n  }\n\n  if (val === null) return \"null\";\n  if (val === undefined) return \"undefined\";\n  if (val === Object(val)) return \"object\";\n\n  return typeof val;\n}\n\nfunction getUserProvidedConfigUrl(configUrl) {\n  let url = configUrl;\n  if (configUrl.indexOf(\"sourceConfig\") == -1) {\n    url = url.slice(-1) == \"/\" ? url.slice(0, -1) : url;\n    url = `${url}/sourceConfig/`;\n  }\n  url = url.slice(-1) == \"/\" ? url : `${url}/`;\n  if (url.indexOf(\"?\") > -1) {\n    if (url.split(\"?\")[1] !== CONFIG_URL.split(\"?\")[1]) {\n      url = `${url.split(\"?\")[0]}?${CONFIG_URL.split(\"?\")[1]}`;\n    }\n  } else {\n    url = `${url}?${CONFIG_URL.split(\"?\")[1]}`;\n  }\n  return url;\n}\n\n/**\n * Check if a reserved keyword is present in properties/traits\n * @param {*} properties\n * @param {*} reservedKeywords\n * @param {*} type\n */\nfunction checkReservedKeywords(message, messageType) {\n  //  properties, traits, contextualTraits are either undefined or object\n  const { properties, traits } = message;\n  const contextualTraits = message.context.traits;\n  if (properties) {\n    Object.keys(properties).forEach((property) => {\n      if (ReservedPropertyKeywords.indexOf(property) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in properties--> ${property} with ${messageType} call`\n        );\n      }\n    });\n  }\n  if (traits) {\n    Object.keys(traits).forEach((trait) => {\n      if (ReservedPropertyKeywords.indexOf(trait) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in traits--> ${trait} with ${messageType} call`\n        );\n      }\n    });\n  }\n  if (contextualTraits) {\n    Object.keys(contextualTraits).forEach((contextTrait) => {\n      if (ReservedPropertyKeywords.indexOf(contextTrait) >= 0) {\n        logger.error(\n          `Warning! : Reserved keyword used in traits --> ${contextTrait} with ${messageType} call`\n        );\n      }\n    });\n  }\n}\n\nexport {\n  replacer,\n  generateUUID,\n  getCurrentTimeFormatted,\n  getJSONTrimmed,\n  getJSON,\n  getRevenue,\n  getDefaultPageProperties,\n  getUserProvidedConfigUrl,\n  findAllEnabledDestinations,\n  tranformToRudderNames,\n  transformToServerNames,\n  handleError,\n  rejectArr,\n  checkReservedKeywords\n};\n","// Application class\nclass RudderApp {\n  constructor() {\n    this.build = \"1.0.0\";\n    this.name = \"RudderLabs JavaScript SDK\";\n    this.namespace = \"com.rudderlabs.javascript\";\n    this.version = \"process.package_version\";\n  }\n}\nexport default RudderApp;\n","// Library information class\nclass RudderLibraryInfo {\n  constructor() {\n    this.name = \"RudderLabs JavaScript SDK\";\n    this.version = \"process.package_version\";\n  }\n}\n// Operating System information class\nclass RudderOSInfo {\n  constructor() {\n    this.name = \"\";\n    this.version = \"\";\n  }\n}\n// Screen information class\nclass RudderScreenInfo {\n  constructor() {\n    this.density = 0;\n    this.width = 0;\n    this.height = 0;\n  }\n}\n// Device information class\nclass RudderDeviceInfo {\n  constructor() {\n    this.id = \"\";\n    this.manufacturer = \"\";\n    this.model = \"\";\n    this.name = \"\";\n  }\n}\n// Carrier information\nclass RudderNetwork {\n  constructor() {\n    this.carrier = \"\";\n  }\n}\nexport {\n  RudderLibraryInfo,\n  RudderOSInfo,\n  RudderScreenInfo,\n  RudderDeviceInfo,\n  RudderNetwork,\n};\n","// Context class\nimport RudderApp from \"./RudderApp\";\nimport {\n  RudderLibraryInfo,\n  RudderOSInfo,\n  RudderScreenInfo,\n} from \"./RudderInfo\";\n\nclass RudderContext {\n  constructor() {\n    this.app = new RudderApp();\n    this.traits = null;\n    this.library = new RudderLibraryInfo();\n    // this.os = null;\n    const os = new RudderOSInfo();\n    os.version = \"\"; // skipping version for simplicity now\n    const screen = new RudderScreenInfo();\n\n    // Depending on environment within which the code is executing, screen\n    // dimensions can be set\n    // User agent and locale can be retrieved only for browser\n    // For server-side integration, same needs to be set by calling program\n    if (!process.browser) {\n      // server-side integration\n      screen.width = 0;\n      screen.height = 0;\n      screen.density = 0;\n      os.version = \"\";\n      os.name = \"\";\n      this.userAgent = null;\n      this.locale = null;\n    } else {\n      // running within browser\n      screen.width = window.width;\n      screen.height = window.height;\n      screen.density = window.devicePixelRatio;\n      this.userAgent = navigator.userAgent;\n      // property name differs based on browser version\n      this.locale = navigator.language || navigator.browserLanguage;\n    }\n    this.os = os;\n    this.screen = screen;\n    this.device = null;\n    this.network = null;\n  }\n}\nexport default RudderContext;\n","// Core message class with default values\nimport { generateUUID } from \"./utils\";\nimport { MessageType, ECommerceEvents } from \"./constants\";\nimport RudderContext from \"./RudderContext\";\n\nclass RudderMessage {\n  constructor() {\n    this.channel = \"web\";\n    this.context = new RudderContext();\n    this.type = null;\n    this.action = null;\n    this.messageId = generateUUID().toString();\n    this.originalTimestamp = new Date().toISOString();\n    this.anonymousId = null;\n    this.userId = null;\n    this.event = null;\n    this.properties = {};\n    this.integrations = {};\n    // By default, all integrations will be set as enabled from client\n    // Decision to route to specific destinations will be taken at server end\n    this.integrations.All = true;\n  }\n\n  // Get property\n  getProperty(key) {\n    return this.properties[key];\n  }\n\n  // Add property\n  addProperty(key, value) {\n    this.properties[key] = value;\n  }\n\n  // Validate whether this message is semantically valid for the type mentioned\n  validateFor(messageType) {\n    // First check that properties is populated\n    if (!this.properties) {\n      throw new Error(\"Key properties is required\");\n    }\n    // Event type specific checks\n    switch (messageType) {\n      case MessageType.TRACK:\n        // check if event is present\n        if (!this.event) {\n          throw new Error(\"Key event is required for track event\");\n        }\n        // Next make specific checks for e-commerce events\n        if (this.event in Object.values(ECommerceEvents)) {\n          switch (this.event) {\n            case ECommerceEvents.CHECKOUT_STEP_VIEWED:\n            case ECommerceEvents.CHECKOUT_STEP_COMPLETED:\n            case ECommerceEvents.PAYMENT_INFO_ENTERED:\n              this.checkForKey(\"checkout_id\");\n              this.checkForKey(\"step\");\n              break;\n            case ECommerceEvents.PROMOTION_VIEWED:\n            case ECommerceEvents.PROMOTION_CLICKED:\n              this.checkForKey(\"promotion_id\");\n              break;\n            case ECommerceEvents.ORDER_REFUNDED:\n              this.checkForKey(\"order_id\");\n              break;\n            default:\n          }\n        } else if (!this.properties.category) {\n          // if category is not there, set to event\n          this.properties.category = this.event;\n        }\n\n        break;\n      case MessageType.PAGE:\n        break;\n      case MessageType.SCREEN:\n        if (!this.properties.name) {\n          throw new Error(\"Key 'name' is required in properties\");\n        }\n        break;\n    }\n  }\n\n  // Function for checking existence of a particular property\n  checkForKey(propertyName) {\n    if (!this.properties[propertyName]) {\n      throw new Error(`Key '${propertyName}' is required in properties`);\n    }\n  }\n}\nexport default RudderMessage;\n","import RudderMessage from \"./RudderMessage\";\n// Individual element class containing Rudder Message\nclass RudderElement {\n  constructor() {\n    this.message = new RudderMessage();\n  }\n\n  // Setters that in turn set the field values for the contained object\n  setType(type) {\n    this.message.type = type;\n  }\n\n  setProperty(rudderProperty) {\n    this.message.properties = rudderProperty;\n  }\n\n  setUserProperty(rudderUserProperty) {\n    this.message.user_properties = rudderUserProperty;\n  }\n\n  setUserId(userId) {\n    this.message.userId = userId;\n  }\n\n  setEventName(eventName) {\n    this.message.event = eventName;\n  }\n\n  updateTraits(traits) {\n    this.message.context.traits = traits;\n  }\n\n  getElementContent() {\n    return this.message;\n  }\n}\nexport default RudderElement;\n","// Class responsible for building up the individual elements in a batch\n// that is transmitted by the SDK\nimport RudderElement from \"./RudderElement.js\";\n\nclass RudderElementBuilder {\n  constructor() {\n    this.rudderProperty = null;\n    this.rudderUserProperty = null;\n    this.event = null;\n    this.userId = null;\n    this.channel = null;\n    this.type = null;\n  }\n\n  // Set the property\n  setProperty(inputRudderProperty) {\n    this.rudderProperty = inputRudderProperty;\n    return this;\n  }\n\n  // Build and set the property object\n  setPropertyBuilder(rudderPropertyBuilder) {\n    this.rudderProperty = rudderPropertyBuilder.build();\n    return this;\n  }\n\n  setUserProperty(inputRudderUserProperty) {\n    this.rudderUserProperty = inputRudderUserProperty;\n    return this;\n  }\n\n  setUserPropertyBuilder(rudderUserPropertyBuilder) {\n    this.rudderUserProperty = rudderUserPropertyBuilder.build();\n    return this;\n  }\n\n  // Setter methods for all variables. Instance is returned for each call in\n  // accordance with the Builder pattern\n\n  setEvent(event) {\n    this.event = event;\n    return this;\n  }\n\n  setUserId(userId) {\n    this.userId = userId;\n    return this;\n  }\n\n  setChannel(channel) {\n    this.channel = channel;\n    return this;\n  }\n\n  setType(eventType) {\n    this.type = eventType;\n    return this;\n  }\n\n  build() {\n    const element = new RudderElement();\n    element.setUserId(this.userId);\n    element.setType(this.type);\n    element.setEventName(this.event);\n    element.setProperty(this.rudderProperty);\n    element.setUserProperty(this.rudderUserProperty);\n    return element;\n  }\n}\nexport default RudderElementBuilder;\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Constants table\n\t    var T = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        for (var i = 0; i < 64; i++) {\n\t            T[i] = (Math.abs(Math.sin(i + 1)) * 0x100000000) | 0;\n\t        }\n\t    }());\n\n\t    /**\n\t     * MD5 hash algorithm.\n\t     */\n\t    var MD5 = C_algo.MD5 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Swap endian\n\t            for (var i = 0; i < 16; i++) {\n\t                // Shortcuts\n\t                var offset_i = offset + i;\n\t                var M_offset_i = M[offset_i];\n\n\t                M[offset_i] = (\n\t                    (((M_offset_i << 8)  | (M_offset_i >>> 24)) & 0x00ff00ff) |\n\t                    (((M_offset_i << 24) | (M_offset_i >>> 8))  & 0xff00ff00)\n\t                );\n\t            }\n\n\t            // Shortcuts\n\t            var H = this._hash.words;\n\n\t            var M_offset_0  = M[offset + 0];\n\t            var M_offset_1  = M[offset + 1];\n\t            var M_offset_2  = M[offset + 2];\n\t            var M_offset_3  = M[offset + 3];\n\t            var M_offset_4  = M[offset + 4];\n\t            var M_offset_5  = M[offset + 5];\n\t            var M_offset_6  = M[offset + 6];\n\t            var M_offset_7  = M[offset + 7];\n\t            var M_offset_8  = M[offset + 8];\n\t            var M_offset_9  = M[offset + 9];\n\t            var M_offset_10 = M[offset + 10];\n\t            var M_offset_11 = M[offset + 11];\n\t            var M_offset_12 = M[offset + 12];\n\t            var M_offset_13 = M[offset + 13];\n\t            var M_offset_14 = M[offset + 14];\n\t            var M_offset_15 = M[offset + 15];\n\n\t            // Working varialbes\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\n\t            // Computation\n\t            a = FF(a, b, c, d, M_offset_0,  7,  T[0]);\n\t            d = FF(d, a, b, c, M_offset_1,  12, T[1]);\n\t            c = FF(c, d, a, b, M_offset_2,  17, T[2]);\n\t            b = FF(b, c, d, a, M_offset_3,  22, T[3]);\n\t            a = FF(a, b, c, d, M_offset_4,  7,  T[4]);\n\t            d = FF(d, a, b, c, M_offset_5,  12, T[5]);\n\t            c = FF(c, d, a, b, M_offset_6,  17, T[6]);\n\t            b = FF(b, c, d, a, M_offset_7,  22, T[7]);\n\t            a = FF(a, b, c, d, M_offset_8,  7,  T[8]);\n\t            d = FF(d, a, b, c, M_offset_9,  12, T[9]);\n\t            c = FF(c, d, a, b, M_offset_10, 17, T[10]);\n\t            b = FF(b, c, d, a, M_offset_11, 22, T[11]);\n\t            a = FF(a, b, c, d, M_offset_12, 7,  T[12]);\n\t            d = FF(d, a, b, c, M_offset_13, 12, T[13]);\n\t            c = FF(c, d, a, b, M_offset_14, 17, T[14]);\n\t            b = FF(b, c, d, a, M_offset_15, 22, T[15]);\n\n\t            a = GG(a, b, c, d, M_offset_1,  5,  T[16]);\n\t            d = GG(d, a, b, c, M_offset_6,  9,  T[17]);\n\t            c = GG(c, d, a, b, M_offset_11, 14, T[18]);\n\t            b = GG(b, c, d, a, M_offset_0,  20, T[19]);\n\t            a = GG(a, b, c, d, M_offset_5,  5,  T[20]);\n\t            d = GG(d, a, b, c, M_offset_10, 9,  T[21]);\n\t            c = GG(c, d, a, b, M_offset_15, 14, T[22]);\n\t            b = GG(b, c, d, a, M_offset_4,  20, T[23]);\n\t            a = GG(a, b, c, d, M_offset_9,  5,  T[24]);\n\t            d = GG(d, a, b, c, M_offset_14, 9,  T[25]);\n\t            c = GG(c, d, a, b, M_offset_3,  14, T[26]);\n\t            b = GG(b, c, d, a, M_offset_8,  20, T[27]);\n\t            a = GG(a, b, c, d, M_offset_13, 5,  T[28]);\n\t            d = GG(d, a, b, c, M_offset_2,  9,  T[29]);\n\t            c = GG(c, d, a, b, M_offset_7,  14, T[30]);\n\t            b = GG(b, c, d, a, M_offset_12, 20, T[31]);\n\n\t            a = HH(a, b, c, d, M_offset_5,  4,  T[32]);\n\t            d = HH(d, a, b, c, M_offset_8,  11, T[33]);\n\t            c = HH(c, d, a, b, M_offset_11, 16, T[34]);\n\t            b = HH(b, c, d, a, M_offset_14, 23, T[35]);\n\t            a = HH(a, b, c, d, M_offset_1,  4,  T[36]);\n\t            d = HH(d, a, b, c, M_offset_4,  11, T[37]);\n\t            c = HH(c, d, a, b, M_offset_7,  16, T[38]);\n\t            b = HH(b, c, d, a, M_offset_10, 23, T[39]);\n\t            a = HH(a, b, c, d, M_offset_13, 4,  T[40]);\n\t            d = HH(d, a, b, c, M_offset_0,  11, T[41]);\n\t            c = HH(c, d, a, b, M_offset_3,  16, T[42]);\n\t            b = HH(b, c, d, a, M_offset_6,  23, T[43]);\n\t            a = HH(a, b, c, d, M_offset_9,  4,  T[44]);\n\t            d = HH(d, a, b, c, M_offset_12, 11, T[45]);\n\t            c = HH(c, d, a, b, M_offset_15, 16, T[46]);\n\t            b = HH(b, c, d, a, M_offset_2,  23, T[47]);\n\n\t            a = II(a, b, c, d, M_offset_0,  6,  T[48]);\n\t            d = II(d, a, b, c, M_offset_7,  10, T[49]);\n\t            c = II(c, d, a, b, M_offset_14, 15, T[50]);\n\t            b = II(b, c, d, a, M_offset_5,  21, T[51]);\n\t            a = II(a, b, c, d, M_offset_12, 6,  T[52]);\n\t            d = II(d, a, b, c, M_offset_3,  10, T[53]);\n\t            c = II(c, d, a, b, M_offset_10, 15, T[54]);\n\t            b = II(b, c, d, a, M_offset_1,  21, T[55]);\n\t            a = II(a, b, c, d, M_offset_8,  6,  T[56]);\n\t            d = II(d, a, b, c, M_offset_15, 10, T[57]);\n\t            c = II(c, d, a, b, M_offset_6,  15, T[58]);\n\t            b = II(b, c, d, a, M_offset_13, 21, T[59]);\n\t            a = II(a, b, c, d, M_offset_4,  6,  T[60]);\n\t            d = II(d, a, b, c, M_offset_11, 10, T[61]);\n\t            c = II(c, d, a, b, M_offset_2,  15, T[62]);\n\t            b = II(b, c, d, a, M_offset_9,  21, T[63]);\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\n\t            var nBitsTotalH = Math.floor(nBitsTotal / 0x100000000);\n\t            var nBitsTotalL = nBitsTotal;\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = (\n\t                (((nBitsTotalH << 8)  | (nBitsTotalH >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalH << 24) | (nBitsTotalH >>> 8))  & 0xff00ff00)\n\t            );\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (\n\t                (((nBitsTotalL << 8)  | (nBitsTotalL >>> 24)) & 0x00ff00ff) |\n\t                (((nBitsTotalL << 24) | (nBitsTotalL >>> 8))  & 0xff00ff00)\n\t            );\n\n\t            data.sigBytes = (dataWords.length + 1) * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Shortcuts\n\t            var hash = this._hash;\n\t            var H = hash.words;\n\n\t            // Swap endian\n\t            for (var i = 0; i < 4; i++) {\n\t                // Shortcut\n\t                var H_i = H[i];\n\n\t                H[i] = (((H_i << 8)  | (H_i >>> 24)) & 0x00ff00ff) |\n\t                       (((H_i << 24) | (H_i >>> 8))  & 0xff00ff00);\n\t            }\n\n\t            // Return final computed hash\n\t            return hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    function FF(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & c) | (~b & d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function GG(a, b, c, d, x, s, t) {\n\t        var n = a + ((b & d) | (c & ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function HH(a, b, c, d, x, s, t) {\n\t        var n = a + (b ^ c ^ d) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    function II(a, b, c, d, x, s, t) {\n\t        var n = a + (c ^ (b | ~d)) + x + t;\n\t        return ((n << s) | (n >>> (32 - s))) + b;\n\t    }\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.MD5('message');\n\t     *     var hash = CryptoJS.MD5(wordArray);\n\t     */\n\t    C.MD5 = Hasher._createHelper(MD5);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacMD5(message, key);\n\t     */\n\t    C.HmacMD5 = Hasher._createHmacHelper(MD5);\n\t}(Math));\n\n\n\treturn CryptoJS.MD5;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-1 hash algorithm.\n\t     */\n\t    var SHA1 = C_algo.SHA1 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init([\n\t                0x67452301, 0xefcdab89,\n\t                0x98badcfe, 0x10325476,\n\t                0xc3d2e1f0\n\t            ]);\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\n\t            // Computation\n\t            for (var i = 0; i < 80; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var n = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16];\n\t                    W[i] = (n << 1) | (n >>> 31);\n\t                }\n\n\t                var t = ((a << 5) | (a >>> 27)) + e + W[i];\n\t                if (i < 20) {\n\t                    t += ((b & c) | (~b & d)) + 0x5a827999;\n\t                } else if (i < 40) {\n\t                    t += (b ^ c ^ d) + 0x6ed9eba1;\n\t                } else if (i < 60) {\n\t                    t += ((b & c) | (b & d) | (c & d)) - 0x70e44324;\n\t                } else /* if (i < 80) */ {\n\t                    t += (b ^ c ^ d) - 0x359d3e2a;\n\t                }\n\n\t                e = d;\n\t                d = c;\n\t                c = (b << 30) | (b >>> 2);\n\t                b = a;\n\t                a = t;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA1('message');\n\t     *     var hash = CryptoJS.SHA1(wordArray);\n\t     */\n\t    C.SHA1 = Hasher._createHelper(SHA1);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA1(message, key);\n\t     */\n\t    C.HmacSHA1 = Hasher._createHmacHelper(SHA1);\n\t}());\n\n\n\treturn CryptoJS.SHA1;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha1\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha1\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_algo = C.algo;\n\t    var MD5 = C_algo.MD5;\n\n\t    /**\n\t     * This key derivation function is meant to conform with EVP_BytesToKey.\n\t     * www.openssl.org/docs/crypto/EVP_BytesToKey.html\n\t     */\n\t    var EvpKDF = C_algo.EvpKDF = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {number} keySize The key size in words to generate. Default: 4 (128 bits)\n\t         * @property {Hasher} hasher The hash algorithm to use. Default: MD5\n\t         * @property {number} iterations The number of iterations to perform. Default: 1\n\t         */\n\t        cfg: Base.extend({\n\t            keySize: 128/32,\n\t            hasher: MD5,\n\t            iterations: 1\n\t        }),\n\n\t        /**\n\t         * Initializes a newly created key derivation function.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for the derivation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create();\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8 });\n\t         *     var kdf = CryptoJS.algo.EvpKDF.create({ keySize: 8, iterations: 1000 });\n\t         */\n\t        init: function (cfg) {\n\t            this.cfg = this.cfg.extend(cfg);\n\t        },\n\n\t        /**\n\t         * Derives a key from a password.\n\t         *\n\t         * @param {WordArray|string} password The password.\n\t         * @param {WordArray|string} salt A salt.\n\t         *\n\t         * @return {WordArray} The derived key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var key = kdf.compute(password, salt);\n\t         */\n\t        compute: function (password, salt) {\n\t            // Shortcut\n\t            var cfg = this.cfg;\n\n\t            // Init hasher\n\t            var hasher = cfg.hasher.create();\n\n\t            // Initial values\n\t            var derivedKey = WordArray.create();\n\n\t            // Shortcuts\n\t            var derivedKeyWords = derivedKey.words;\n\t            var keySize = cfg.keySize;\n\t            var iterations = cfg.iterations;\n\n\t            // Generate key\n\t            while (derivedKeyWords.length < keySize) {\n\t                if (block) {\n\t                    hasher.update(block);\n\t                }\n\t                var block = hasher.update(password).finalize(salt);\n\t                hasher.reset();\n\n\t                // Iterations\n\t                for (var i = 1; i < iterations; i++) {\n\t                    block = hasher.finalize(block);\n\t                    hasher.reset();\n\t                }\n\n\t                derivedKey.concat(block);\n\t            }\n\t            derivedKey.sigBytes = keySize * 4;\n\n\t            return derivedKey;\n\t        }\n\t    });\n\n\t    /**\n\t     * Derives a key from a password.\n\t     *\n\t     * @param {WordArray|string} password The password.\n\t     * @param {WordArray|string} salt A salt.\n\t     * @param {Object} cfg (Optional) The configuration options to use for this computation.\n\t     *\n\t     * @return {WordArray} The derived key.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var key = CryptoJS.EvpKDF(password, salt);\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8 });\n\t     *     var key = CryptoJS.EvpKDF(password, salt, { keySize: 8, iterations: 1000 });\n\t     */\n\t    C.EvpKDF = function (password, salt, cfg) {\n\t        return EvpKDF.create(cfg).compute(password, salt);\n\t    };\n\t}());\n\n\n\treturn CryptoJS.EvpKDF;\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./evpkdf\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./evpkdf\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t/**\n\t * Cipher core components.\n\t */\n\tCryptoJS.lib.Cipher || (function (undefined) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var WordArray = C_lib.WordArray;\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var Base64 = C_enc.Base64;\n\t    var C_algo = C.algo;\n\t    var EvpKDF = C_algo.EvpKDF;\n\n\t    /**\n\t     * Abstract base cipher template.\n\t     *\n\t     * @property {number} keySize This cipher's key size. Default: 4 (128 bits)\n\t     * @property {number} ivSize This cipher's IV size. Default: 4 (128 bits)\n\t     * @property {number} _ENC_XFORM_MODE A constant representing encryption mode.\n\t     * @property {number} _DEC_XFORM_MODE A constant representing decryption mode.\n\t     */\n\t    var Cipher = C_lib.Cipher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {WordArray} iv The IV to use for this operation.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Creates this cipher in encryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createEncryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createEncryptor: function (key, cfg) {\n\t            return this.create(this._ENC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Creates this cipher in decryption mode.\n\t         *\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {Cipher} A cipher instance.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.createDecryptor(keyWordArray, { iv: ivWordArray });\n\t         */\n\t        createDecryptor: function (key, cfg) {\n\t            return this.create(this._DEC_XFORM_MODE, key, cfg);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created cipher.\n\t         *\n\t         * @param {number} xformMode Either the encryption or decryption transormation mode constant.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipher = CryptoJS.algo.AES.create(CryptoJS.algo.AES._ENC_XFORM_MODE, keyWordArray, { iv: ivWordArray });\n\t         */\n\t        init: function (xformMode, key, cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Store transform mode and key\n\t            this._xformMode = xformMode;\n\t            this._key = key;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this cipher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     cipher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-cipher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Adds data to be encrypted or decrypted.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.process('data');\n\t         *     var encrypted = cipher.process(wordArray);\n\t         */\n\t        process: function (dataUpdate) {\n\t            // Append\n\t            this._append(dataUpdate);\n\n\t            // Process available blocks\n\t            return this._process();\n\t        },\n\n\t        /**\n\t         * Finalizes the encryption or decryption process.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} dataUpdate The final data to encrypt or decrypt.\n\t         *\n\t         * @return {WordArray} The data after final processing.\n\t         *\n\t         * @example\n\t         *\n\t         *     var encrypted = cipher.finalize();\n\t         *     var encrypted = cipher.finalize('data');\n\t         *     var encrypted = cipher.finalize(wordArray);\n\t         */\n\t        finalize: function (dataUpdate) {\n\t            // Final data update\n\t            if (dataUpdate) {\n\t                this._append(dataUpdate);\n\t            }\n\n\t            // Perform concrete-cipher logic\n\t            var finalProcessedData = this._doFinalize();\n\n\t            return finalProcessedData;\n\t        },\n\n\t        keySize: 128/32,\n\n\t        ivSize: 128/32,\n\n\t        _ENC_XFORM_MODE: 1,\n\n\t        _DEC_XFORM_MODE: 2,\n\n\t        /**\n\t         * Creates shortcut functions to a cipher's object interface.\n\t         *\n\t         * @param {Cipher} cipher The cipher to create a helper for.\n\t         *\n\t         * @return {Object} An object with encrypt and decrypt shortcut functions.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var AES = CryptoJS.lib.Cipher._createHelper(CryptoJS.algo.AES);\n\t         */\n\t        _createHelper: (function () {\n\t            function selectCipherStrategy(key) {\n\t                if (typeof key == 'string') {\n\t                    return PasswordBasedCipher;\n\t                } else {\n\t                    return SerializableCipher;\n\t                }\n\t            }\n\n\t            return function (cipher) {\n\t                return {\n\t                    encrypt: function (message, key, cfg) {\n\t                        return selectCipherStrategy(key).encrypt(cipher, message, key, cfg);\n\t                    },\n\n\t                    decrypt: function (ciphertext, key, cfg) {\n\t                        return selectCipherStrategy(key).decrypt(cipher, ciphertext, key, cfg);\n\t                    }\n\t                };\n\t            };\n\t        }())\n\t    });\n\n\t    /**\n\t     * Abstract base stream cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 1 (32 bits)\n\t     */\n\t    var StreamCipher = C_lib.StreamCipher = Cipher.extend({\n\t        _doFinalize: function () {\n\t            // Process partial blocks\n\t            var finalProcessedBlocks = this._process(!!'flush');\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 1\n\t    });\n\n\t    /**\n\t     * Mode namespace.\n\t     */\n\t    var C_mode = C.mode = {};\n\n\t    /**\n\t     * Abstract base block cipher mode template.\n\t     */\n\t    var BlockCipherMode = C_lib.BlockCipherMode = Base.extend({\n\t        /**\n\t         * Creates this mode for encryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createEncryptor(cipher, iv.words);\n\t         */\n\t        createEncryptor: function (cipher, iv) {\n\t            return this.Encryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Creates this mode for decryption.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.createDecryptor(cipher, iv.words);\n\t         */\n\t        createDecryptor: function (cipher, iv) {\n\t            return this.Decryptor.create(cipher, iv);\n\t        },\n\n\t        /**\n\t         * Initializes a newly created mode.\n\t         *\n\t         * @param {Cipher} cipher A block cipher instance.\n\t         * @param {Array} iv The IV words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var mode = CryptoJS.mode.CBC.Encryptor.create(cipher, iv.words);\n\t         */\n\t        init: function (cipher, iv) {\n\t            this._cipher = cipher;\n\t            this._iv = iv;\n\t        }\n\t    });\n\n\t    /**\n\t     * Cipher Block Chaining mode.\n\t     */\n\t    var CBC = C_mode.CBC = (function () {\n\t        /**\n\t         * Abstract base CBC mode.\n\t         */\n\t        var CBC = BlockCipherMode.extend();\n\n\t        /**\n\t         * CBC encryptor.\n\t         */\n\t        CBC.Encryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // XOR and encrypt\n\t                xorBlock.call(this, words, offset, blockSize);\n\t                cipher.encryptBlock(words, offset);\n\n\t                // Remember this block to use with next block\n\t                this._prevBlock = words.slice(offset, offset + blockSize);\n\t            }\n\t        });\n\n\t        /**\n\t         * CBC decryptor.\n\t         */\n\t        CBC.Decryptor = CBC.extend({\n\t            /**\n\t             * Processes the data block at offset.\n\t             *\n\t             * @param {Array} words The data words to operate on.\n\t             * @param {number} offset The offset where the block starts.\n\t             *\n\t             * @example\n\t             *\n\t             *     mode.processBlock(data.words, offset);\n\t             */\n\t            processBlock: function (words, offset) {\n\t                // Shortcuts\n\t                var cipher = this._cipher;\n\t                var blockSize = cipher.blockSize;\n\n\t                // Remember this block to use with next block\n\t                var thisBlock = words.slice(offset, offset + blockSize);\n\n\t                // Decrypt and XOR\n\t                cipher.decryptBlock(words, offset);\n\t                xorBlock.call(this, words, offset, blockSize);\n\n\t                // This block becomes the previous block\n\t                this._prevBlock = thisBlock;\n\t            }\n\t        });\n\n\t        function xorBlock(words, offset, blockSize) {\n\t            // Shortcut\n\t            var iv = this._iv;\n\n\t            // Choose mixing block\n\t            if (iv) {\n\t                var block = iv;\n\n\t                // Remove IV for subsequent blocks\n\t                this._iv = undefined;\n\t            } else {\n\t                var block = this._prevBlock;\n\t            }\n\n\t            // XOR blocks\n\t            for (var i = 0; i < blockSize; i++) {\n\t                words[offset + i] ^= block[i];\n\t            }\n\t        }\n\n\t        return CBC;\n\t    }());\n\n\t    /**\n\t     * Padding namespace.\n\t     */\n\t    var C_pad = C.pad = {};\n\n\t    /**\n\t     * PKCS #5/7 padding strategy.\n\t     */\n\t    var Pkcs7 = C_pad.Pkcs7 = {\n\t        /**\n\t         * Pads data using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to pad.\n\t         * @param {number} blockSize The multiple that the data should be padded to.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.pad(wordArray, 4);\n\t         */\n\t        pad: function (data, blockSize) {\n\t            // Shortcut\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count padding bytes\n\t            var nPaddingBytes = blockSizeBytes - data.sigBytes % blockSizeBytes;\n\n\t            // Create padding word\n\t            var paddingWord = (nPaddingBytes << 24) | (nPaddingBytes << 16) | (nPaddingBytes << 8) | nPaddingBytes;\n\n\t            // Create padding\n\t            var paddingWords = [];\n\t            for (var i = 0; i < nPaddingBytes; i += 4) {\n\t                paddingWords.push(paddingWord);\n\t            }\n\t            var padding = WordArray.create(paddingWords, nPaddingBytes);\n\n\t            // Add padding\n\t            data.concat(padding);\n\t        },\n\n\t        /**\n\t         * Unpads data that had been padded using the algorithm defined in PKCS #5/7.\n\t         *\n\t         * @param {WordArray} data The data to unpad.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     CryptoJS.pad.Pkcs7.unpad(wordArray);\n\t         */\n\t        unpad: function (data) {\n\t            // Get number of padding bytes from last byte\n\t            var nPaddingBytes = data.words[(data.sigBytes - 1) >>> 2] & 0xff;\n\n\t            // Remove padding\n\t            data.sigBytes -= nPaddingBytes;\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract base block cipher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this cipher operates on. Default: 4 (128 bits)\n\t     */\n\t    var BlockCipher = C_lib.BlockCipher = Cipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Mode} mode The block mode to use. Default: CBC\n\t         * @property {Padding} padding The padding strategy to use. Default: Pkcs7\n\t         */\n\t        cfg: Cipher.cfg.extend({\n\t            mode: CBC,\n\t            padding: Pkcs7\n\t        }),\n\n\t        reset: function () {\n\t            // Reset cipher\n\t            Cipher.reset.call(this);\n\n\t            // Shortcuts\n\t            var cfg = this.cfg;\n\t            var iv = cfg.iv;\n\t            var mode = cfg.mode;\n\n\t            // Reset block mode\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                var modeCreator = mode.createEncryptor;\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                var modeCreator = mode.createDecryptor;\n\t                // Keep at least one block in the buffer for unpadding\n\t                this._minBufferSize = 1;\n\t            }\n\n\t            if (this._mode && this._mode.__creator == modeCreator) {\n\t                this._mode.init(this, iv && iv.words);\n\t            } else {\n\t                this._mode = modeCreator.call(mode, this, iv && iv.words);\n\t                this._mode.__creator = modeCreator;\n\t            }\n\t        },\n\n\t        _doProcessBlock: function (words, offset) {\n\t            this._mode.processBlock(words, offset);\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcut\n\t            var padding = this.cfg.padding;\n\n\t            // Finalize\n\t            if (this._xformMode == this._ENC_XFORM_MODE) {\n\t                // Pad data\n\t                padding.pad(this._data, this.blockSize);\n\n\t                // Process final blocks\n\t                var finalProcessedBlocks = this._process(!!'flush');\n\t            } else /* if (this._xformMode == this._DEC_XFORM_MODE) */ {\n\t                // Process final blocks\n\t                var finalProcessedBlocks = this._process(!!'flush');\n\n\t                // Unpad data\n\t                padding.unpad(finalProcessedBlocks);\n\t            }\n\n\t            return finalProcessedBlocks;\n\t        },\n\n\t        blockSize: 128/32\n\t    });\n\n\t    /**\n\t     * A collection of cipher parameters.\n\t     *\n\t     * @property {WordArray} ciphertext The raw ciphertext.\n\t     * @property {WordArray} key The key to this ciphertext.\n\t     * @property {WordArray} iv The IV used in the ciphering operation.\n\t     * @property {WordArray} salt The salt used with a key derivation function.\n\t     * @property {Cipher} algorithm The cipher algorithm.\n\t     * @property {Mode} mode The block mode used in the ciphering operation.\n\t     * @property {Padding} padding The padding scheme used in the ciphering operation.\n\t     * @property {number} blockSize The block size of the cipher.\n\t     * @property {Format} formatter The default formatting strategy to convert this cipher params object to a string.\n\t     */\n\t    var CipherParams = C_lib.CipherParams = Base.extend({\n\t        /**\n\t         * Initializes a newly created cipher params object.\n\t         *\n\t         * @param {Object} cipherParams An object with any of the possible cipher parameters.\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.lib.CipherParams.create({\n\t         *         ciphertext: ciphertextWordArray,\n\t         *         key: keyWordArray,\n\t         *         iv: ivWordArray,\n\t         *         salt: saltWordArray,\n\t         *         algorithm: CryptoJS.algo.AES,\n\t         *         mode: CryptoJS.mode.CBC,\n\t         *         padding: CryptoJS.pad.PKCS7,\n\t         *         blockSize: 4,\n\t         *         formatter: CryptoJS.format.OpenSSL\n\t         *     });\n\t         */\n\t        init: function (cipherParams) {\n\t            this.mixIn(cipherParams);\n\t        },\n\n\t        /**\n\t         * Converts this cipher params object to a string.\n\t         *\n\t         * @param {Format} formatter (Optional) The formatting strategy to use.\n\t         *\n\t         * @return {string} The stringified cipher params.\n\t         *\n\t         * @throws Error If neither the formatter nor the default formatter is set.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = cipherParams + '';\n\t         *     var string = cipherParams.toString();\n\t         *     var string = cipherParams.toString(CryptoJS.format.OpenSSL);\n\t         */\n\t        toString: function (formatter) {\n\t            return (formatter || this.formatter).stringify(this);\n\t        }\n\t    });\n\n\t    /**\n\t     * Format namespace.\n\t     */\n\t    var C_format = C.format = {};\n\n\t    /**\n\t     * OpenSSL formatting strategy.\n\t     */\n\t    var OpenSSLFormatter = C_format.OpenSSL = {\n\t        /**\n\t         * Converts a cipher params object to an OpenSSL-compatible string.\n\t         *\n\t         * @param {CipherParams} cipherParams The cipher params object.\n\t         *\n\t         * @return {string} The OpenSSL-compatible string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var openSSLString = CryptoJS.format.OpenSSL.stringify(cipherParams);\n\t         */\n\t        stringify: function (cipherParams) {\n\t            // Shortcuts\n\t            var ciphertext = cipherParams.ciphertext;\n\t            var salt = cipherParams.salt;\n\n\t            // Format\n\t            if (salt) {\n\t                var wordArray = WordArray.create([0x53616c74, 0x65645f5f]).concat(salt).concat(ciphertext);\n\t            } else {\n\t                var wordArray = ciphertext;\n\t            }\n\n\t            return wordArray.toString(Base64);\n\t        },\n\n\t        /**\n\t         * Converts an OpenSSL-compatible string to a cipher params object.\n\t         *\n\t         * @param {string} openSSLStr The OpenSSL-compatible string.\n\t         *\n\t         * @return {CipherParams} The cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var cipherParams = CryptoJS.format.OpenSSL.parse(openSSLString);\n\t         */\n\t        parse: function (openSSLStr) {\n\t            // Parse base64\n\t            var ciphertext = Base64.parse(openSSLStr);\n\n\t            // Shortcut\n\t            var ciphertextWords = ciphertext.words;\n\n\t            // Test for salt\n\t            if (ciphertextWords[0] == 0x53616c74 && ciphertextWords[1] == 0x65645f5f) {\n\t                // Extract salt\n\t                var salt = WordArray.create(ciphertextWords.slice(2, 4));\n\n\t                // Remove salt from ciphertext\n\t                ciphertextWords.splice(0, 4);\n\t                ciphertext.sigBytes -= 16;\n\t            }\n\n\t            return CipherParams.create({ ciphertext: ciphertext, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A cipher wrapper that returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var SerializableCipher = C_lib.SerializableCipher = Base.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {Formatter} format The formatting strategy to convert cipher param objects to and from a string. Default: OpenSSL\n\t         */\n\t        cfg: Base.extend({\n\t            format: OpenSSLFormatter\n\t        }),\n\n\t        /**\n\t         * Encrypts a message.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key);\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv });\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher.encrypt(CryptoJS.algo.AES, message, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Encrypt\n\t            var encryptor = cipher.createEncryptor(key, cfg);\n\t            var ciphertext = encryptor.finalize(message);\n\n\t            // Shortcut\n\t            var cipherCfg = encryptor.cfg;\n\n\t            // Create and return serializable cipher params\n\t            return CipherParams.create({\n\t                ciphertext: ciphertext,\n\t                key: key,\n\t                iv: cipherCfg.iv,\n\t                algorithm: cipher,\n\t                mode: cipherCfg.mode,\n\t                padding: cipherCfg.padding,\n\t                blockSize: cipher.blockSize,\n\t                formatter: cfg.format\n\t            });\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {WordArray} key The key.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.SerializableCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, key, { iv: iv, format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, key, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Decrypt\n\t            var plaintext = cipher.createDecryptor(key, cfg).finalize(ciphertext.ciphertext);\n\n\t            return plaintext;\n\t        },\n\n\t        /**\n\t         * Converts serialized ciphertext to CipherParams,\n\t         * else assumed CipherParams already and returns ciphertext unchanged.\n\t         *\n\t         * @param {CipherParams|string} ciphertext The ciphertext.\n\t         * @param {Formatter} format The formatting strategy to use to parse serialized ciphertext.\n\t         *\n\t         * @return {CipherParams} The unserialized ciphertext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.SerializableCipher._parse(ciphertextStringOrParams, format);\n\t         */\n\t        _parse: function (ciphertext, format) {\n\t            if (typeof ciphertext == 'string') {\n\t                return format.parse(ciphertext, this);\n\t            } else {\n\t                return ciphertext;\n\t            }\n\t        }\n\t    });\n\n\t    /**\n\t     * Key derivation function namespace.\n\t     */\n\t    var C_kdf = C.kdf = {};\n\n\t    /**\n\t     * OpenSSL key derivation function.\n\t     */\n\t    var OpenSSLKdf = C_kdf.OpenSSL = {\n\t        /**\n\t         * Derives a key and IV from a password.\n\t         *\n\t         * @param {string} password The password to derive from.\n\t         * @param {number} keySize The size in words of the key to generate.\n\t         * @param {number} ivSize The size in words of the IV to generate.\n\t         * @param {WordArray|string} salt (Optional) A 64-bit salt to use. If omitted, a salt will be generated randomly.\n\t         *\n\t         * @return {CipherParams} A cipher params object with the key, IV, and salt.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32);\n\t         *     var derivedParams = CryptoJS.kdf.OpenSSL.execute('Password', 256/32, 128/32, 'saltsalt');\n\t         */\n\t        execute: function (password, keySize, ivSize, salt) {\n\t            // Generate random salt\n\t            if (!salt) {\n\t                salt = WordArray.random(64/8);\n\t            }\n\n\t            // Derive key and IV\n\t            var key = EvpKDF.create({ keySize: keySize + ivSize }).compute(password, salt);\n\n\t            // Separate key and IV\n\t            var iv = WordArray.create(key.words.slice(keySize), ivSize * 4);\n\t            key.sigBytes = keySize * 4;\n\n\t            // Return params\n\t            return CipherParams.create({ key: key, iv: iv, salt: salt });\n\t        }\n\t    };\n\n\t    /**\n\t     * A serializable cipher wrapper that derives the key from a password,\n\t     * and returns ciphertext as a serializable cipher params object.\n\t     */\n\t    var PasswordBasedCipher = C_lib.PasswordBasedCipher = SerializableCipher.extend({\n\t        /**\n\t         * Configuration options.\n\t         *\n\t         * @property {KDF} kdf The key derivation function to use to generate a key and IV from a password. Default: OpenSSL\n\t         */\n\t        cfg: SerializableCipher.cfg.extend({\n\t            kdf: OpenSSLKdf\n\t        }),\n\n\t        /**\n\t         * Encrypts a message using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {WordArray|string} message The message to encrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {CipherParams} A cipher params object.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password');\n\t         *     var ciphertextParams = CryptoJS.lib.PasswordBasedCipher.encrypt(CryptoJS.algo.AES, message, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        encrypt: function (cipher, message, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Encrypt\n\t            var ciphertext = SerializableCipher.encrypt.call(this, cipher, message, derivedParams.key, cfg);\n\n\t            // Mix in derived params\n\t            ciphertext.mixIn(derivedParams);\n\n\t            return ciphertext;\n\t        },\n\n\t        /**\n\t         * Decrypts serialized ciphertext using a password.\n\t         *\n\t         * @param {Cipher} cipher The cipher algorithm to use.\n\t         * @param {CipherParams|string} ciphertext The ciphertext to decrypt.\n\t         * @param {string} password The password.\n\t         * @param {Object} cfg (Optional) The configuration options to use for this operation.\n\t         *\n\t         * @return {WordArray} The plaintext.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, formattedCiphertext, 'password', { format: CryptoJS.format.OpenSSL });\n\t         *     var plaintext = CryptoJS.lib.PasswordBasedCipher.decrypt(CryptoJS.algo.AES, ciphertextParams, 'password', { format: CryptoJS.format.OpenSSL });\n\t         */\n\t        decrypt: function (cipher, ciphertext, password, cfg) {\n\t            // Apply config defaults\n\t            cfg = this.cfg.extend(cfg);\n\n\t            // Convert string to CipherParams\n\t            ciphertext = this._parse(ciphertext, cfg.format);\n\n\t            // Derive key and other params\n\t            var derivedParams = cfg.kdf.execute(password, cipher.keySize, cipher.ivSize, ciphertext.salt);\n\n\t            // Add IV to config\n\t            cfg.iv = derivedParams.iv;\n\n\t            // Decrypt\n\t            var plaintext = SerializableCipher.decrypt.call(this, cipher, ciphertext, derivedParams.key, cfg);\n\n\t            return plaintext;\n\t        }\n\t    });\n\t}());\n\n\n}));",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./enc-base64\"), require(\"./md5\"), require(\"./evpkdf\"), require(\"./cipher-core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./enc-base64\", \"./md5\", \"./evpkdf\", \"./cipher-core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var BlockCipher = C_lib.BlockCipher;\n\t    var C_algo = C.algo;\n\n\t    // Lookup tables\n\t    var SBOX = [];\n\t    var INV_SBOX = [];\n\t    var SUB_MIX_0 = [];\n\t    var SUB_MIX_1 = [];\n\t    var SUB_MIX_2 = [];\n\t    var SUB_MIX_3 = [];\n\t    var INV_SUB_MIX_0 = [];\n\t    var INV_SUB_MIX_1 = [];\n\t    var INV_SUB_MIX_2 = [];\n\t    var INV_SUB_MIX_3 = [];\n\n\t    // Compute lookup tables\n\t    (function () {\n\t        // Compute double table\n\t        var d = [];\n\t        for (var i = 0; i < 256; i++) {\n\t            if (i < 128) {\n\t                d[i] = i << 1;\n\t            } else {\n\t                d[i] = (i << 1) ^ 0x11b;\n\t            }\n\t        }\n\n\t        // Walk GF(2^8)\n\t        var x = 0;\n\t        var xi = 0;\n\t        for (var i = 0; i < 256; i++) {\n\t            // Compute sbox\n\t            var sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4);\n\t            sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63;\n\t            SBOX[x] = sx;\n\t            INV_SBOX[sx] = x;\n\n\t            // Compute multiplication\n\t            var x2 = d[x];\n\t            var x4 = d[x2];\n\t            var x8 = d[x4];\n\n\t            // Compute sub bytes, mix columns tables\n\t            var t = (d[sx] * 0x101) ^ (sx * 0x1010100);\n\t            SUB_MIX_0[x] = (t << 24) | (t >>> 8);\n\t            SUB_MIX_1[x] = (t << 16) | (t >>> 16);\n\t            SUB_MIX_2[x] = (t << 8)  | (t >>> 24);\n\t            SUB_MIX_3[x] = t;\n\n\t            // Compute inv sub bytes, inv mix columns tables\n\t            var t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100);\n\t            INV_SUB_MIX_0[sx] = (t << 24) | (t >>> 8);\n\t            INV_SUB_MIX_1[sx] = (t << 16) | (t >>> 16);\n\t            INV_SUB_MIX_2[sx] = (t << 8)  | (t >>> 24);\n\t            INV_SUB_MIX_3[sx] = t;\n\n\t            // Compute next counter\n\t            if (!x) {\n\t                x = xi = 1;\n\t            } else {\n\t                x = x2 ^ d[d[d[x8 ^ x2]]];\n\t                xi ^= d[d[xi]];\n\t            }\n\t        }\n\t    }());\n\n\t    // Precomputed Rcon lookup\n\t    var RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\n\t    /**\n\t     * AES block cipher algorithm.\n\t     */\n\t    var AES = C_algo.AES = BlockCipher.extend({\n\t        _doReset: function () {\n\t            // Skip reset of nRounds has been set before and key did not change\n\t            if (this._nRounds && this._keyPriorReset === this._key) {\n\t                return;\n\t            }\n\n\t            // Shortcuts\n\t            var key = this._keyPriorReset = this._key;\n\t            var keyWords = key.words;\n\t            var keySize = key.sigBytes / 4;\n\n\t            // Compute number of rounds\n\t            var nRounds = this._nRounds = keySize + 6;\n\n\t            // Compute number of key schedule rows\n\t            var ksRows = (nRounds + 1) * 4;\n\n\t            // Compute key schedule\n\t            var keySchedule = this._keySchedule = [];\n\t            for (var ksRow = 0; ksRow < ksRows; ksRow++) {\n\t                if (ksRow < keySize) {\n\t                    keySchedule[ksRow] = keyWords[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 1];\n\n\t                    if (!(ksRow % keySize)) {\n\t                        // Rot word\n\t                        t = (t << 8) | (t >>> 24);\n\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\n\t                        // Mix Rcon\n\t                        t ^= RCON[(ksRow / keySize) | 0] << 24;\n\t                    } else if (keySize > 6 && ksRow % keySize == 4) {\n\t                        // Sub word\n\t                        t = (SBOX[t >>> 24] << 24) | (SBOX[(t >>> 16) & 0xff] << 16) | (SBOX[(t >>> 8) & 0xff] << 8) | SBOX[t & 0xff];\n\t                    }\n\n\t                    keySchedule[ksRow] = keySchedule[ksRow - keySize] ^ t;\n\t                }\n\t            }\n\n\t            // Compute inv key schedule\n\t            var invKeySchedule = this._invKeySchedule = [];\n\t            for (var invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n\t                var ksRow = ksRows - invKsRow;\n\n\t                if (invKsRow % 4) {\n\t                    var t = keySchedule[ksRow];\n\t                } else {\n\t                    var t = keySchedule[ksRow - 4];\n\t                }\n\n\t                if (invKsRow < 4 || ksRow <= 4) {\n\t                    invKeySchedule[invKsRow] = t;\n\t                } else {\n\t                    invKeySchedule[invKsRow] = INV_SUB_MIX_0[SBOX[t >>> 24]] ^ INV_SUB_MIX_1[SBOX[(t >>> 16) & 0xff]] ^\n\t                                               INV_SUB_MIX_2[SBOX[(t >>> 8) & 0xff]] ^ INV_SUB_MIX_3[SBOX[t & 0xff]];\n\t                }\n\t            }\n\t        },\n\n\t        encryptBlock: function (M, offset) {\n\t            this._doCryptBlock(M, offset, this._keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX);\n\t        },\n\n\t        decryptBlock: function (M, offset) {\n\t            // Swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\n\t            this._doCryptBlock(M, offset, this._invKeySchedule, INV_SUB_MIX_0, INV_SUB_MIX_1, INV_SUB_MIX_2, INV_SUB_MIX_3, INV_SBOX);\n\n\t            // Inv swap 2nd and 4th rows\n\t            var t = M[offset + 1];\n\t            M[offset + 1] = M[offset + 3];\n\t            M[offset + 3] = t;\n\t        },\n\n\t        _doCryptBlock: function (M, offset, keySchedule, SUB_MIX_0, SUB_MIX_1, SUB_MIX_2, SUB_MIX_3, SBOX) {\n\t            // Shortcut\n\t            var nRounds = this._nRounds;\n\n\t            // Get input, add round key\n\t            var s0 = M[offset]     ^ keySchedule[0];\n\t            var s1 = M[offset + 1] ^ keySchedule[1];\n\t            var s2 = M[offset + 2] ^ keySchedule[2];\n\t            var s3 = M[offset + 3] ^ keySchedule[3];\n\n\t            // Key schedule row counter\n\t            var ksRow = 4;\n\n\t            // Rounds\n\t            for (var round = 1; round < nRounds; round++) {\n\t                // Shift rows, sub bytes, mix columns, add round key\n\t                var t0 = SUB_MIX_0[s0 >>> 24] ^ SUB_MIX_1[(s1 >>> 16) & 0xff] ^ SUB_MIX_2[(s2 >>> 8) & 0xff] ^ SUB_MIX_3[s3 & 0xff] ^ keySchedule[ksRow++];\n\t                var t1 = SUB_MIX_0[s1 >>> 24] ^ SUB_MIX_1[(s2 >>> 16) & 0xff] ^ SUB_MIX_2[(s3 >>> 8) & 0xff] ^ SUB_MIX_3[s0 & 0xff] ^ keySchedule[ksRow++];\n\t                var t2 = SUB_MIX_0[s2 >>> 24] ^ SUB_MIX_1[(s3 >>> 16) & 0xff] ^ SUB_MIX_2[(s0 >>> 8) & 0xff] ^ SUB_MIX_3[s1 & 0xff] ^ keySchedule[ksRow++];\n\t                var t3 = SUB_MIX_0[s3 >>> 24] ^ SUB_MIX_1[(s0 >>> 16) & 0xff] ^ SUB_MIX_2[(s1 >>> 8) & 0xff] ^ SUB_MIX_3[s2 & 0xff] ^ keySchedule[ksRow++];\n\n\t                // Update state\n\t                s0 = t0;\n\t                s1 = t1;\n\t                s2 = t2;\n\t                s3 = t3;\n\t            }\n\n\t            // Shift rows, sub bytes, add round key\n\t            var t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++];\n\t            var t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++];\n\n\t            // Set output\n\t            M[offset]     = t0;\n\t            M[offset + 1] = t1;\n\t            M[offset + 2] = t2;\n\t            M[offset + 3] = t3;\n\t        },\n\n\t        keySize: 256/32\n\t    });\n\n\t    /**\n\t     * Shortcut functions to the cipher's object interface.\n\t     *\n\t     * @example\n\t     *\n\t     *     var ciphertext = CryptoJS.AES.encrypt(message, key, cfg);\n\t     *     var plaintext  = CryptoJS.AES.decrypt(ciphertext, key, cfg);\n\t     */\n\t    C.AES = BlockCipher._createHelper(AES);\n\t}());\n\n\n\treturn CryptoJS.AES;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.enc.Utf8;\n\n}));","/**\n * toString ref.\n */\n\nvar toString = Object.prototype.toString;\n\n/**\n * Return the type of `val`.\n *\n * @param {Mixed} val\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(val){\n  switch (toString.call(val)) {\n    case '[object Date]': return 'date';\n    case '[object RegExp]': return 'regexp';\n    case '[object Arguments]': return 'arguments';\n    case '[object Array]': return 'array';\n    case '[object Error]': return 'error';\n  }\n\n  if (val === null) return 'null';\n  if (val === undefined) return 'undefined';\n  if (val !== val) return 'nan';\n  if (val && val.nodeType === 1) return 'element';\n\n  if (isBuffer(val)) return 'buffer';\n\n  val = val.valueOf\n    ? val.valueOf()\n    : Object.prototype.valueOf.apply(val);\n\n  return typeof val;\n};\n\n// code borrowed from https://github.com/feross/is-buffer/blob/master/index.js\nfunction isBuffer(obj) {\n  return !!(obj != null &&\n    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)\n      (obj.constructor &&\n      typeof obj.constructor.isBuffer === 'function' &&\n      obj.constructor.isBuffer(obj))\n    ))\n}\n","'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar type = require('component-type');\n\n/**\n * Deeply clone an object.\n *\n * @param {*} obj Any object.\n */\n\nvar clone = function clone(obj) {\n  var t = type(obj);\n\n  if (t === 'object') {\n    var copy = {};\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        copy[key] = clone(obj[key]);\n      }\n    }\n    return copy;\n  }\n\n  if (t === 'array') {\n    var copy = new Array(obj.length);\n    for (var i = 0, l = obj.length; i < l; i++) {\n      copy[i] = clone(obj[i]);\n    }\n    return copy;\n  }\n\n  if (t === 'regexp') {\n    // from millermedeiros/amd-utils - MIT\n    var flags = '';\n    flags += obj.multiline ? 'm' : '';\n    flags += obj.global ? 'g' : '';\n    flags += obj.ignoreCase ? 'i' : '';\n    return new RegExp(obj.source, flags);\n  }\n\n  if (t === 'date') {\n    return new Date(obj.getTime());\n  }\n\n  // string, number, boolean, etc.\n  return obj;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = clone;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.samesite) str += '; samesite=' + options.samesite;\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  var str;\n  try {\n    str = document.cookie;\n  } catch (err) {\n    if (typeof console !== 'undefined' && typeof console.error === 'function') {\n      console.error(err.stack || err);\n    }\n    return {};\n  }\n  return parse(str);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n","'use strict';\n\nvar max = Math.max;\n\n/**\n * Produce a new array composed of all but the first `n` elements of an input `collection`.\n *\n * @name drop\n * @api public\n * @param {number} count The number of elements to drop.\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing all but the first element from `collection`.\n * @example\n * drop(0, [1, 2, 3]); // => [1, 2, 3]\n * drop(1, [1, 2, 3]); // => [2, 3]\n * drop(2, [1, 2, 3]); // => [3]\n * drop(3, [1, 2, 3]); // => []\n * drop(4, [1, 2, 3]); // => []\n */\nvar drop = function drop(count, collection) {\n  var length = collection ? collection.length : 0;\n\n  if (!length) {\n    return [];\n  }\n\n  // Preallocating an array *significantly* boosts performance when dealing with\n  // `arguments` objects on v8. For a summary, see:\n  // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n  var toDrop = max(Number(count) || 0, 0);\n  var resultsLength = max(length - toDrop, 0);\n  var results = new Array(resultsLength);\n\n  for (var i = 0; i < resultsLength; i += 1) {\n    results[i] = collection[i + toDrop];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = drop;\n","'use strict';\n\nvar max = Math.max;\n\n/**\n * Produce a new array by passing each value in the input `collection` through a transformative\n * `iterator` function. The `iterator` function is passed three arguments:\n * `(value, index, collection)`.\n *\n * @name rest\n * @api public\n * @param {Array} collection The collection to iterate over.\n * @return {Array} A new array containing all but the first element from `collection`.\n * @example\n * rest([1, 2, 3]); // => [2, 3]\n */\nvar rest = function rest(collection) {\n  if (collection == null || !collection.length) {\n    return [];\n  }\n\n  // Preallocating an array *significantly* boosts performance when dealing with\n  // `arguments` objects on v8. For a summary, see:\n  // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n  var results = new Array(max(collection.length - 2, 0));\n\n  for (var i = 1; i < collection.length; i += 1) {\n    results[i - 1] = collection[i];\n  }\n\n  return results;\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = rest;\n","'use strict';\n\n/*\n * Module dependencies.\n */\n\nvar drop = require('@ndhoule/drop');\nvar rest = require('@ndhoule/rest');\n\nvar has = Object.prototype.hasOwnProperty;\nvar objToString = Object.prototype.toString;\n\n/**\n * Returns `true` if a value is an object, otherwise `false`.\n *\n * @name isObject\n * @api private\n * @param {*} val The value to test.\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isObject = function isObject(value) {\n  return Boolean(value) && typeof value === 'object';\n};\n\n/**\n * Returns `true` if a value is a plain object, otherwise `false`.\n *\n * @name isPlainObject\n * @api private\n * @param {*} val The value to test.\n * @return {boolean}\n */\n// TODO: Move to a library\nvar isPlainObject = function isPlainObject(value) {\n  return Boolean(value) && objToString.call(value) === '[object Object]';\n};\n\n/**\n * Assigns a key-value pair to a target object when the value assigned is owned,\n * and where target[key] is undefined.\n *\n * @name shallowCombiner\n * @api private\n * @param {Object} target\n * @param {Object} source\n * @param {*} value\n * @param {string} key\n */\nvar shallowCombiner = function shallowCombiner(target, source, value, key) {\n  if (has.call(source, key) && target[key] === undefined) {\n    target[key] = value;\n  }\n  return source;\n};\n\n/**\n * Assigns a key-value pair to a target object when the value assigned is owned,\n * and where target[key] is undefined; also merges objects recursively.\n *\n * @name deepCombiner\n * @api private\n * @param {Object} target\n * @param {Object} source\n * @param {*} value\n * @param {string} key\n * @return {Object}\n */\nvar deepCombiner = function(target, source, value, key) {\n  if (has.call(source, key)) {\n    if (isPlainObject(target[key]) && isPlainObject(value)) {\n        target[key] = defaultsDeep(target[key], value);\n    } else if (target[key] === undefined) {\n        target[key] = value;\n    }\n  }\n\n  return source;\n};\n\n/**\n * TODO: Document\n *\n * @name defaultsWith\n * @api private\n * @param {Function} combiner\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object} Return the input `target`.\n */\nvar defaultsWith = function(combiner, target /*, ...sources */) {\n  if (!isObject(target)) {\n    return target;\n  }\n\n  combiner = combiner || shallowCombiner;\n  var sources = drop(2, arguments);\n\n  for (var i = 0; i < sources.length; i += 1) {\n    for (var key in sources[i]) {\n      combiner(target, sources[i], sources[i][key], key);\n    }\n  }\n\n  return target;\n};\n\n/**\n * Copies owned, enumerable properties from a source object(s) to a target\n * object when the value of that property on the source object is `undefined`.\n * Recurses on objects.\n *\n * @name defaultsDeep\n * @api public\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object} The input `target`.\n */\nvar defaultsDeep = function defaultsDeep(target /*, sources */) {\n  // TODO: Replace with `partial` call?\n  return defaultsWith.apply(null, [deepCombiner, target].concat(rest(arguments)));\n};\n\n/**\n * Copies owned, enumerable properties from a source object(s) to a target\n * object when the value of that property on the source object is `undefined`.\n *\n * @name defaults\n * @api public\n * @param {Object} target\n * @param {...Object} sources\n * @return {Object}\n * @example\n * var a = { a: 1 };\n * var b = { a: 2, b: 2 };\n *\n * defaults(a, b);\n * console.log(a); //=> { a: 1, b: 2 }\n */\nvar defaults = function(target /*, ...sources */) {\n  // TODO: Replace with `partial` call?\n  return defaultsWith.apply(null, [null, target].concat(rest(arguments)));\n};\n\n/*\n * Exports.\n */\n\nmodule.exports = defaults;\nmodule.exports.deep = defaultsDeep;\n","/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root.Object());\n    exports || (exports = root.Object());\n\n    // Native constructor aliases.\n    var Number = context.Number || root.Number,\n        String = context.String || root.String,\n        Object = context.Object || root.Object,\n        Date = context.Date || root.Date,\n        SyntaxError = context.SyntaxError || root.SyntaxError,\n        TypeError = context.TypeError || root.TypeError,\n        Math = context.Math || root.Math,\n        nativeJSON = context.JSON || root.JSON;\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty = objectProto.hasOwnProperty,\n        undefined;\n\n    // Internal: Contains `try...catch` logic used by other functions.\n    // This prevents other functions from being deoptimized.\n    function attempt(func, errorFunc) {\n      try {\n        func();\n      } catch (exception) {\n        if (errorFunc) {\n          errorFunc();\n        }\n      }\n    }\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    attempt(function () {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    });\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] != null) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"date-serialization\") && has(\"json-parse\");\n      } else if (name == \"date-serialization\") {\n        // Indicates whether `Date`s can be serialized accurately by `JSON.stringify`.\n        isSupported = has(\"json-stringify\") && isExtended;\n        if (isSupported) {\n          var stringify = exports.stringify;\n          attempt(function () {\n            isSupported =\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          });\n        }\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\";\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            attempt(function () {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undefined &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undefined) === undefined &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undefined &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undefined]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undefined, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\";\n            }, function () {\n              stringifySupported = false;\n            });\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse, parseSupported;\n          if (typeof parse == \"function\") {\n            attempt(function () {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  attempt(function () {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  });\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    });\n                  }\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    });\n                  }\n                }\n              }\n            }, function () {\n              parseSupported = false;\n            });\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n    has[\"bug-string-char-index\"] = has[\"date-serialization\"] = has[\"json\"] = has[\"json-stringify\"] = has[\"json-parse\"] = null;\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      var forOwn = function (object, callback) {\n        var size = 0, Properties, dontEnums, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        dontEnums = new Properties();\n        for (property in dontEnums) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(dontEnums, property)) {\n            size++;\n          }\n        }\n        Properties = dontEnums = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          dontEnums = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = dontEnums.length; property = dontEnums[--length];) {\n              if (hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forOwn(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\") && !has(\"date-serialization\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Serializes a date object.\n        var serializeDate = function (value) {\n          var getData, year, month, date, time, hours, minutes, seconds, milliseconds;\n          // Define additional utility methods if the `Date` methods are buggy.\n          if (!isExtended) {\n            var floor = Math.floor;\n            // A mapping between the months of the year and the number of days between\n            // January 1st and the first of the respective month.\n            var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n            // Internal: Calculates the number of days between the Unix epoch and the\n            // first day of the given month.\n            var getDay = function (year, month) {\n              return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n            };\n            getData = function (value) {\n              // Manually compute the year, month, date, hours, minutes,\n              // seconds, and milliseconds if the `getUTC*` methods are\n              // buggy. Adapted from @Yaffle's `date-shim` project.\n              date = floor(value / 864e5);\n              for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n              for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n              date = 1 + date - getDay(year, month);\n              // The `time` value specifies the time within the day (see ES\n              // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n              // to compute `A modulo B`, as the `%` operator does not\n              // correspond to the `modulo` operation for negative numbers.\n              time = (value % 864e5 + 864e5) % 864e5;\n              // The hours, minutes, seconds, and milliseconds are obtained by\n              // decomposing the time within the day. See section 15.9.1.10.\n              hours = floor(time / 36e5) % 24;\n              minutes = floor(time / 6e4) % 60;\n              seconds = floor(time / 1e3) % 60;\n              milliseconds = time % 1e3;\n            };\n          } else {\n            getData = function (value) {\n              year = value.getUTCFullYear();\n              month = value.getUTCMonth();\n              date = value.getUTCDate();\n              hours = value.getUTCHours();\n              minutes = value.getUTCMinutes();\n              seconds = value.getUTCSeconds();\n              milliseconds = value.getUTCMilliseconds();\n            };\n          }\n          serializeDate = function (value) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              getData(value);\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n              \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n              // Months, dates, hours, minutes, and seconds should have two\n              // digits; milliseconds should have three.\n              \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n              // Milliseconds are optional in ES 5.0, but required in 5.1.\n              \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              year = month = date = hours = minutes = seconds = milliseconds = null;\n            } else {\n              value = null;\n            }\n            return value;\n          };\n          return serializeDate(value);\n        };\n\n        // For environments with `JSON.stringify` but buggy date serialization,\n        // we override the native `Date#toJSON` implementation with a\n        // spec-compliant one.\n        if (has(\"json-stringify\") && !has(\"date-serialization\")) {\n          // Internal: the `Date#toJSON` implementation used to override the native one.\n          function dateToJSON (key) {\n            return serializeDate(this);\n          }\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          var nativeStringify = exports.stringify;\n          exports.stringify = function (source, filter, width) {\n            var nativeToJSON = Date.prototype.toJSON;\n            Date.prototype.toJSON = dateToJSON;\n            var result = nativeStringify(source, filter, width);\n            Date.prototype.toJSON = nativeToJSON;\n            return result;\n          }\n        } else {\n          // Internal: Double-quotes a string `value`, replacing all ASCII control\n          // characters (characters with code unit values between 0 and 31) with\n          // their escaped equivalents. This is an implementation of the\n          // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n          var unicodePrefix = \"\\\\u00\";\n          var escapeChar = function (character) {\n            var charCode = character.charCodeAt(0), escaped = Escapes[charCode];\n            if (escaped) {\n              return escaped;\n            }\n            return unicodePrefix + toPaddedString(2, charCode.toString(16));\n          };\n          var reEscape = /[\\x00-\\x1f\\x22\\x5c]/g;\n          var quote = function (value) {\n            reEscape.lastIndex = 0;\n            return '\"' +\n              (\n                reEscape.test(value)\n                  ? value.replace(reEscape, escapeChar)\n                  : value\n              ) +\n              '\"';\n          };\n\n          // Internal: Recursively serializes an object. Implements the\n          // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n          var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n            var value, type, className, results, element, index, length, prefix, result;\n            attempt(function () {\n              // Necessary for host object support.\n              value = object[property];\n            });\n            if (typeof value == \"object\" && value) {\n              if (value.getUTCFullYear && getClass.call(value) == dateClass && value.toJSON === Date.prototype.toJSON) {\n                value = serializeDate(value);\n              } else if (typeof value.toJSON == \"function\") {\n                value = value.toJSON(property);\n              }\n            }\n            if (callback) {\n              // If a replacement function was provided, call it to obtain the value\n              // for serialization.\n              value = callback.call(object, property, value);\n            }\n            // Exit early if value is `undefined` or `null`.\n            if (value == undefined) {\n              return value === undefined ? value : \"null\";\n            }\n            type = typeof value;\n            // Only call `getClass` if the value is an object.\n            if (type == \"object\") {\n              className = getClass.call(value);\n            }\n            switch (className || type) {\n              case \"boolean\":\n              case booleanClass:\n                // Booleans are represented literally.\n                return \"\" + value;\n              case \"number\":\n              case numberClass:\n                // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n                // `\"null\"`.\n                return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n              case \"string\":\n              case stringClass:\n                // Strings are double-quoted and escaped.\n                return quote(\"\" + value);\n            }\n            // Recursively serialize objects and arrays.\n            if (typeof value == \"object\") {\n              // Check for cyclic structures. This is a linear search; performance\n              // is inversely proportional to the number of unique nested objects.\n              for (length = stack.length; length--;) {\n                if (stack[length] === value) {\n                  // Cyclic structures cannot be serialized by `JSON.stringify`.\n                  throw TypeError();\n                }\n              }\n              // Add the object to the stack of traversed objects.\n              stack.push(value);\n              results = [];\n              // Save the current indentation level and indent one additional level.\n              prefix = indentation;\n              indentation += whitespace;\n              if (className == arrayClass) {\n                // Recursively serialize array elements.\n                for (index = 0, length = value.length; index < length; index++) {\n                  element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                  results.push(element === undefined ? \"null\" : element);\n                }\n                result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n              } else {\n                // Recursively serialize object members. Members are selected from\n                // either a user-specified list of property names, or the object\n                // itself.\n                forOwn(properties || value, function (property) {\n                  var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                  if (element !== undefined) {\n                    // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                    // is not the empty string, let `member` {quote(property) + \":\"}\n                    // be the concatenation of `member` and the `space` character.\"\n                    // The \"`space` character\" refers to the literal space\n                    // character, not the `space` {width} argument provided to\n                    // `JSON.stringify`.\n                    results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                  }\n                });\n                result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n              }\n              // Remove the object from the traversed object stack.\n              stack.pop();\n              return result;\n            }\n          };\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          exports.stringify = function (source, filter, width) {\n            var whitespace, callback, properties, className;\n            if (objectTypes[typeof filter] && filter) {\n              className = getClass.call(filter);\n              if (className == functionClass) {\n                callback = filter;\n              } else if (className == arrayClass) {\n                // Convert the property names array into a makeshift set.\n                properties = {};\n                for (var index = 0, length = filter.length, value; index < length;) {\n                  value = filter[index++];\n                  className = getClass.call(value);\n                  if (className == \"[object String]\" || className == \"[object Number]\") {\n                    properties[value] = 1;\n                  }\n                }\n              }\n            }\n            if (width) {\n              className = getClass.call(width);\n              if (className == numberClass) {\n                // Convert the `width` to an integer and create a string containing\n                // `width` number of space characters.\n                if ((width -= width % 1) > 0) {\n                  if (width > 10) {\n                    width = 10;\n                  }\n                  for (whitespace = \"\"; whitespace.length < width;) {\n                    whitespace += \" \";\n                  }\n                }\n              } else if (className == stringClass) {\n                whitespace = width.length <= 10 ? width : width.slice(0, 10);\n              }\n            }\n            // Opera <= 7.54u2 discards the values associated with empty string keys\n            // (`\"\"`) only if they are used directly within an object member list\n            // (e.g., `!(\"\" in { \"\": 1})`).\n            return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n          };\n        }\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                var temp = source.slice(Index, Index + 4);\n                if (temp == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (temp == \"fals\" && source.charCodeAt(Index + 4 ) == 101) {\n                  Index += 5;\n                  return false;\n                } else if (temp == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;;) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;;) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undefined) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forOwn` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(getClass, forOwn, value, length, callback);\n              }\n            } else {\n              forOwn(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports.runInContext = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root.JSON3,\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root.JSON3 = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root.JSON3 = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('cookie');\n\n/**\n * Set or get cookie `name` with `value` and `options` object.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {Mixed}\n * @api public\n */\n\nmodule.exports = function(name, value, options){\n  switch (arguments.length) {\n    case 3:\n    case 2:\n      return set(name, value, options);\n    case 1:\n      return get(name);\n    default:\n      return all();\n  }\n};\n\n/**\n * Set cookie `name` to `value`.\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @api private\n */\n\nfunction set(name, value, options) {\n  options = options || {};\n  var str = encode(name) + '=' + encode(value);\n\n  if (null == value) options.maxage = -1;\n\n  if (options.maxage) {\n    options.expires = new Date(+new Date + options.maxage);\n  }\n\n  if (options.path) str += '; path=' + options.path;\n  if (options.domain) str += '; domain=' + options.domain;\n  if (options.expires) str += '; expires=' + options.expires.toUTCString();\n  if (options.secure) str += '; secure';\n\n  document.cookie = str;\n}\n\n/**\n * Return all cookies.\n *\n * @return {Object}\n * @api private\n */\n\nfunction all() {\n  var str;\n  try {\n    str = document.cookie;\n  } catch (err) {\n    if (typeof console !== 'undefined' && typeof console.error === 'function') {\n      console.error(err.stack || err);\n    }\n    return {};\n  }\n  return parse(str);\n}\n\n/**\n * Get cookie `name`.\n *\n * @param {String} name\n * @return {String}\n * @api private\n */\n\nfunction get(name) {\n  return all()[name];\n}\n\n/**\n * Parse cookie `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parse(str) {\n  var obj = {};\n  var pairs = str.split(/ *; */);\n  var pair;\n  if ('' == pairs[0]) return obj;\n  for (var i = 0; i < pairs.length; ++i) {\n    pair = pairs[i].split('=');\n    obj[decode(pair[0])] = decode(pair[1]);\n  }\n  return obj;\n}\n\n/**\n * Encode.\n */\n\nfunction encode(value){\n  try {\n    return encodeURIComponent(value);\n  } catch (e) {\n    debug('error `encode(%o)` - %o', value, e)\n  }\n}\n\n/**\n * Decode.\n */\n\nfunction decode(value) {\n  try {\n    return decodeURIComponent(value);\n  } catch (e) {\n    debug('error `decode(%o)` - %o', value, e)\n  }\n}\n","'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar parse = require('component-url').parse;\nvar cookie = require('component-cookie');\n\n/**\n * Get the top domain.\n *\n * The function constructs the levels of domain and attempts to set a global\n * cookie on each one when it succeeds it returns the top level domain.\n *\n * The method returns an empty string when the hostname is an ip or `localhost`.\n *\n * Example levels:\n *\n *      domain.levels('http://www.google.co.uk');\n *      // => [\"co.uk\", \"google.co.uk\", \"www.google.co.uk\"]\n *\n * Example:\n *\n *      domain('http://localhost:3000/baz');\n *      // => ''\n *      domain('http://dev:3000/baz');\n *      // => ''\n *      domain('http://127.0.0.1:3000/baz');\n *      // => ''\n *      domain('http://segment.io/baz');\n *      // => 'segment.io'\n *\n * @param {string} url\n * @return {string}\n * @api public\n */\nfunction domain(url) {\n  var cookie = exports.cookie;\n  var levels = exports.levels(url);\n\n  // Lookup the real top level one.\n  for (var i = 0; i < levels.length; ++i) {\n    var cname = '__tld__';\n    var domain = levels[i];\n    var opts = { domain: '.' + domain };\n\n    cookie(cname, 1, opts);\n    if (cookie(cname)) {\n      cookie(cname, null, opts);\n      return domain;\n    }\n  }\n\n  return '';\n}\n\n/**\n * Levels returns all levels of the given url.\n *\n * @param {string} url\n * @return {Array}\n * @api public\n */\ndomain.levels = function(url) {\n  var host = parse(url).hostname;\n  var parts = host.split('.');\n  var last = parts[parts.length - 1];\n  var levels = [];\n\n  // Ip address.\n  if (parts.length === 4 && last === parseInt(last, 10)) {\n    return levels;\n  }\n\n  // Localhost.\n  if (parts.length <= 1) {\n    return levels;\n  }\n\n  // Create levels.\n  for (var i = parts.length - 2; i >= 0; --i) {\n    levels.push(parts.slice(i).join('.'));\n  }\n\n  return levels;\n};\n\n/**\n * Expose cookie on domain.\n */\ndomain.cookie = cookie;\n\n/*\n * Exports.\n */\n\nexports = module.exports = domain;\n","import clone from \"@ndhoule/clone\";\nimport cookie from \"rudder-component-cookie\";\nimport defaults from \"@ndhoule/defaults\";\nimport json from \"json3\";\nimport topDomain from \"@segment/top-domain\";\nimport logger from \"../logUtil\";\n\n/**\n * An object utility to persist values in cookies\n */\nclass CookieLocal {\n  constructor(options) {\n    this._options = {};\n    this.options(options);\n  }\n\n  /**\n   *\n   * @param {*} options\n   */\n  options(options = {}) {\n    if (arguments.length === 0) return this._options;\n\n    let domain = `.${topDomain(window.location.href)}`;\n    if (domain === \".\") domain = null;\n\n    // the default maxage and path\n    this._options = defaults(options, {\n      maxage: 31536000000,\n      path: \"/\",\n      domain,\n      samesite: \"Lax\",\n    });\n\n    // try setting a cookie first\n    this.set(\"test_rudder\", true);\n    if (!this.get(\"test_rudder\")) {\n      this._options.domain = null;\n    }\n    this.remove(\"test_rudder\");\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  set(key, value) {\n    try {\n      cookie(key, value, clone(this._options));\n      return true;\n    } catch (e) {\n      logger.error(e);\n      return false;\n    }\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  get(key) {\n    return cookie(key);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  remove(key) {\n    try {\n      cookie(key, null, clone(this._options));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n}\n\n// Exporting only the instance\nconst Cookie = new CookieLocal({});\n\nexport { Cookie };\n","\"use strict\"\n\nvar JSON = require('json3');\n\nmodule.exports = (function() {\n\t// Store.js\n\tvar store = {},\n\t\twin = (typeof window != 'undefined' ? window : global),\n\t\tdoc = win.document,\n\t\tlocalStorageName = 'localStorage',\n\t\tscriptTag = 'script',\n\t\tstorage\n\n\tstore.disabled = false\n\tstore.version = '1.3.20'\n\tstore.set = function(key, value) {}\n\tstore.get = function(key, defaultVal) {}\n\tstore.has = function(key) { return store.get(key) !== undefined }\n\tstore.remove = function(key) {}\n\tstore.clear = function() {}\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal\n\t\t\tdefaultVal = null\n\t\t}\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {}\n\t\t}\n\t\tvar val = store.get(key, defaultVal)\n\t\ttransactionFn(val)\n\t\tstore.set(key, val)\n\t}\n\tstore.getAll = function() {\n\t\tvar ret = {}\n\t\tstore.forEach(function(key, val) {\n\t\t\tret[key] = val\n\t\t})\n\t\treturn ret\n\t}\n\tstore.forEach = function() {}\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value)\n\t}\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') { return undefined }\n\t\ttry { return JSON.parse(value) }\n\t\tcatch(e) { return value || undefined }\n\t}\n\n\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t// when about.config::dom.storage.enabled === false\n\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\tfunction isLocalStorageNameSupported() {\n\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\tcatch(err) { return false }\n\t}\n\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = win[localStorageName]\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\treturn val\n\t\t}\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t}\n\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\tstore.clear = function() { storage.clear() }\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\tvar key = storage.key(i)\n\t\t\t\tcallback(key, store.get(key))\n\t\t\t}\n\t\t}\n\t} else if (doc && doc.documentElement.addBehavior) {\n\t\tvar storageOwner,\n\t\t\tstorageContainer\n\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t// since the iframe access rules appear to allow direct access and\n\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t// document can be used instead of the current document (which would\n\t\t// have been limited to the current path) to perform #userData storage.\n\t\ttry {\n\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\tstorageContainer.open()\n\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\tstorageContainer.close()\n\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\tstorage = storageOwner.createElement('div')\n\t\t} catch(e) {\n\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\tstorage = doc.createElement('div')\n\t\t\tstorageOwner = doc.body\n\t\t}\n\t\tvar withIEStorage = function(storeFunction) {\n\t\t\treturn function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\targs.unshift(storage)\n\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\n\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\tvar ieKeyFix = function(key) {\n\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t}\n\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\tstorage.save(localStorageName)\n\t\t\treturn val\n\t\t})\n\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t})\n\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tstorage.removeAttribute(key)\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tstorage.load(localStorageName)\n\t\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\t\tstorage.removeAttribute(attributes[i].name)\n\t\t\t}\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t}\n\t\t})\n\t}\n\n\ttry {\n\t\tvar testKey = '__storejs__'\n\t\tstore.set(testKey, testKey)\n\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\tstore.remove(testKey)\n\t} catch(e) {\n\t\tstore.disabled = true\n\t}\n\tstore.enabled = !store.disabled\n\t\n\treturn store\n}())\n","import defaults from \"@ndhoule/defaults\";\nimport store from \"@segment/store\";\n\n/**\n * An object utility to persist user and other values in localstorage\n */\nclass StoreLocal {\n  constructor(options) {\n    this._options = {};\n    this.enabled = false;\n    this.options(options);\n  }\n\n  /**\n   *\n   * @param {*} options\n   */\n  options(options = {}) {\n    if (arguments.length === 0) return this._options;\n\n    defaults(options, { enabled: true });\n\n    this.enabled = options.enabled && store.enabled;\n    this._options = options;\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  set(key, value) {\n    if (!this.enabled) return false;\n    return store.set(key, value);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  get(key) {\n    if (!this.enabled) return null;\n    return store.get(key);\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  remove(key) {\n    if (!this.enabled) return false;\n    return store.remove(key);\n  }\n}\n\n// Exporting only the instance\nconst Store = new StoreLocal({});\n\nexport { Store };\n","import AES from \"crypto-js/aes\";\nimport Utf8 from \"crypto-js/enc-utf8\";\nimport logger from \"../logUtil\";\nimport { Cookie } from \"./cookie\";\nimport { Store } from \"./store\";\n\nconst defaults = {\n  user_storage_key: \"rl_user_id\",\n  user_storage_trait: \"rl_trait\",\n  user_storage_anonymousId: \"rl_anonymous_id\",\n  group_storage_key: \"rl_group_id\",\n  group_storage_trait: \"rl_group_trait\",\n  prefix: \"RudderEncrypt:\",\n  key: \"Rudder\",\n};\n\n/**\n * An object that handles persisting key-val from Analytics\n */\nclass Storage {\n  constructor() {\n    // First try setting the storage to cookie else to localstorage\n    Cookie.set(\"rudder_cookies\", true);\n\n    if (Cookie.get(\"rudder_cookies\")) {\n      Cookie.remove(\"rudder_cookies\");\n      this.storage = Cookie;\n      return;\n    }\n\n    // localStorage is enabled.\n    if (Store.enabled) {\n      this.storage = Store;\n    }\n  }\n\n  /**\n   * Json stringify the given value\n   * @param {*} value\n   */\n  stringify(value) {\n    return JSON.stringify(value);\n  }\n\n  /**\n   * JSON parse the value\n   * @param {*} value\n   */\n  parse(value) {\n    // if not parseable, return as is without json parse\n    try {\n      return value ? JSON.parse(value) : null;\n    } catch (e) {\n      logger.error(e);\n      return value || null;\n    }\n  }\n\n  /**\n   * trim using regex for browser polyfill\n   * @param {*} value\n   */\n  trim(value) {\n    return value.replace(/^\\s+|\\s+$/gm, \"\");\n  }\n\n  /**\n   * AES encrypt value with constant prefix\n   * @param {*} value\n   */\n  encryptValue(value) {\n    if (this.trim(value) == \"\") {\n      return value;\n    }\n    const prefixedVal = `${defaults.prefix}${AES.encrypt(\n      value,\n      defaults.key\n    ).toString()}`;\n\n    return prefixedVal;\n  }\n\n  /**\n   * decrypt value\n   * @param {*} value\n   */\n  decryptValue(value) {\n    if (!value || (typeof value === \"string\" && this.trim(value) == \"\")) {\n      return value;\n    }\n    if (value.substring(0, defaults.prefix.length) == defaults.prefix) {\n      return AES.decrypt(\n        value.substring(defaults.prefix.length),\n        defaults.key\n      ).toString(Utf8);\n    }\n    return value;\n  }\n\n  /**\n   *\n   * @param {*} key\n   * @param {*} value\n   */\n  setItem(key, value) {\n    this.storage.set(key, this.encryptValue(this.stringify(value)));\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setUserId(value) {\n    if (typeof value !== \"string\") {\n      logger.error(\"[Storage] setUserId:: userId should be string\");\n      return;\n    }\n    this.storage.set(\n      defaults.user_storage_key,\n      this.encryptValue(this.stringify(value))\n    );\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setUserTraits(value) {\n    this.storage.set(\n      defaults.user_storage_trait,\n      this.encryptValue(this.stringify(value))\n    );\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setGroupId(value) {\n    if (typeof value !== \"string\") {\n      logger.error(\"[Storage] setGroupId:: groupId should be string\");\n      return;\n    }\n    this.storage.set(\n      defaults.group_storage_key,\n      this.encryptValue(this.stringify(value))\n    );\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setGroupTraits(value) {\n    this.storage.set(\n      defaults.group_storage_trait,\n      this.encryptValue(this.stringify(value))\n    );\n  }\n\n  /**\n   *\n   * @param {*} value\n   */\n  setAnonymousId(value) {\n    if (typeof value !== \"string\") {\n      logger.error(\"[Storage] setAnonymousId:: anonymousId should be string\");\n      return;\n    }\n    this.storage.set(\n      defaults.user_storage_anonymousId,\n      this.encryptValue(this.stringify(value))\n    );\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  getItem(key) {\n    return this.parse(this.decryptValue(this.storage.get(key)));\n  }\n\n  /**\n   * get the stored userId\n   */\n  getUserId() {\n    return this.parse(\n      this.decryptValue(this.storage.get(defaults.user_storage_key))\n    );\n  }\n\n  /**\n   * get the stored user traits\n   */\n  getUserTraits() {\n    return this.parse(\n      this.decryptValue(this.storage.get(defaults.user_storage_trait))\n    );\n  }\n\n  /**\n   * get the stored userId\n   */\n  getGroupId() {\n    return this.parse(\n      this.decryptValue(this.storage.get(defaults.group_storage_key))\n    );\n  }\n\n  /**\n   * get the stored user traits\n   */\n  getGroupTraits() {\n    return this.parse(\n      this.decryptValue(this.storage.get(defaults.group_storage_trait))\n    );\n  }\n\n  /**\n   * get stored anonymous id\n   */\n  getAnonymousId() {\n    return this.parse(\n      this.decryptValue(this.storage.get(defaults.user_storage_anonymousId))\n    );\n  }\n\n  /**\n   *\n   * @param {*} key\n   */\n  removeItem(key) {\n    return this.storage.remove(key);\n  }\n\n  /**\n   * remove stored keys\n   */\n  clear() {\n    this.storage.remove(defaults.user_storage_key);\n    this.storage.remove(defaults.user_storage_trait);\n    this.storage.remove(defaults.group_storage_key);\n    this.storage.remove(defaults.group_storage_trait);\n    // this.storage.remove(defaults.user_storage_anonymousId);\n  }\n}\n\nexport { Storage };\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","import { Storage } from \"./storage\";\n\nexport default new Storage();\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","'use strict';\n\nvar keys = require('@ndhoule/keys');\nvar uuid = require('uuid').v4;\n\nvar inMemoryStore = {\n  _data: {},\n  length: 0,\n  setItem: function(key, value) {\n    this._data[key] = value;\n    this.length = keys(this._data).length;\n    return value;\n  },\n  getItem: function(key) {\n    if (key in this._data) {\n      return this._data[key];\n    }\n    return null;\n  },\n  removeItem: function(key) {\n    if (key in this._data) {\n      delete this._data[key];\n    }\n    this.length = keys(this._data).length;\n    return null;\n  },\n  clear: function() {\n    this._data = {};\n    this.length = 0;\n  },\n  key: function(index) {\n    return keys(this._data)[index];\n  }\n};\n\nfunction isSupportedNatively() {\n  try {\n    if (!window.localStorage) return false;\n    var key = uuid();\n    window.localStorage.setItem(key, 'test_value');\n    var value = window.localStorage.getItem(key);\n    window.localStorage.removeItem(key);\n\n    // handle localStorage silently failing\n    return value === 'test_value';\n  } catch (e) {\n    // Can throw if localStorage is disabled\n    return false;\n  }\n}\n\nfunction pickStorage() {\n  if (isSupportedNatively()) {\n    return window.localStorage;\n  }\n  // fall back to in-memory\n  return inMemoryStore;\n}\n\n// Return a shared instance\nmodule.exports.defaultEngine = pickStorage();\n// Expose the in-memory store explicitly for testing\nmodule.exports.inMemoryEngine = inMemoryStore;\n","'use strict';\n\nvar defaultEngine = require('./engine').defaultEngine;\nvar inMemoryEngine = require('./engine').inMemoryEngine;\nvar each = require('@ndhoule/each');\nvar keys = require('@ndhoule/keys');\nvar json = require('json3');\n\n/**\n* Store Implementation with dedicated\n*/\n\nfunction Store(name, id, keys, optionalEngine) {\n  this.id = id;\n  this.name = name;\n  this.keys = keys || {};\n  this.engine = optionalEngine || defaultEngine;\n}\n\n/**\n* Set value by key.\n*/\n\nStore.prototype.set = function(key, value) {\n  var compoundKey = this._createValidKey(key);\n  if (!compoundKey) return;\n  try {\n    this.engine.setItem(compoundKey, json.stringify(value));\n  } catch (err) {\n    if (isQuotaExceeded(err)) {\n      // switch to inMemory engine\n      this._swapEngine();\n      // and save it there\n      this.set(key, value);\n    }\n  }\n};\n\n/**\n* Get by Key.\n*/\n\nStore.prototype.get = function(key) {\n  try {\n    var str = this.engine.getItem(this._createValidKey(key));\n    if (str === null) {\n      return null;\n    }\n    return json.parse(str);\n  } catch (err) {\n    return null;\n  }\n};\n\n/**\n* Remove by Key.\n*/\n\nStore.prototype.remove = function(key) {\n  this.engine.removeItem(this._createValidKey(key));\n};\n\n/**\n* Ensure the key is valid\n*/\n\nStore.prototype._createValidKey = function(key) {\n  var name = this.name;\n  var id = this.id;\n\n  if (!keys(this.keys).length) return [name, id, key].join('.');\n\n  // validate and return undefined if invalid key\n  var compoundKey;\n  each(function(value) {\n    if (value === key) {\n      compoundKey = [name, id, key].join('.');\n    }\n  }, this.keys);\n  return compoundKey;\n};\n\n/**\n* Switch to inMemoryEngine, bringing any existing data with.\n*/\n\nStore.prototype._swapEngine = function() {\n  var self = this;\n\n  // grab existing data, but only for this page's queue instance, not all\n  // better to keep other queues in localstorage to be flushed later\n  // than to pull them into memory and remove them from durable storage\n  each(function(key) {\n    var value = self.get(key);\n    inMemoryEngine.setItem([self.name, self.id, key].join('.'), value);\n    self.remove(key);\n  }, this.keys);\n\n  this.engine = inMemoryEngine;\n};\n\nmodule.exports = Store;\n\nfunction isQuotaExceeded(e) {\n  var quotaExceeded = false;\n  if (e.code) {\n    switch (e.code) {\n    case 22:\n      quotaExceeded = true;\n      break;\n    case 1014:\n      // Firefox\n      if (e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n        quotaExceeded = true;\n      }\n      break;\n    default:\n      break;\n    }\n  } else if (e.number === -2147024882) {\n    // Internet Explorer 8\n    quotaExceeded = true;\n  }\n  return quotaExceeded;\n}\n","'use strict';\n\nvar each = require('@ndhoule/each');\n\nvar defaultClock = {\n  setTimeout: function(fn, ms) {\n    return window.setTimeout(fn, ms);\n  },\n  clearTimeout: function(id) {\n    return window.clearTimeout(id);\n  },\n  Date: window.Date\n};\n\nvar clock = defaultClock;\n\nfunction Schedule() {\n  this.tasks = {};\n  this.nextId = 1;\n}\n\nSchedule.prototype.now = function() {\n  return +new clock.Date();\n};\n\nSchedule.prototype.run = function(task, timeout) {\n  var id = this.nextId++;\n  this.tasks[id] = clock.setTimeout(this._handle(id, task), timeout);\n  return id;\n};\n\nSchedule.prototype.cancel = function(id) {\n  if (this.tasks[id]) {\n    clock.clearTimeout(this.tasks[id]);\n    delete this.tasks[id];\n  }\n};\n\nSchedule.prototype.cancelAll = function() {\n  each(clock.clearTimeout, this.tasks);\n  this.tasks = {};\n};\n\nSchedule.prototype._handle = function(id, callback) {\n  var self = this;\n  return function() {\n    delete self.tasks[id];\n    return callback();\n  };\n};\n\nSchedule.setClock = function(newClock) {\n  clock = newClock;\n};\n\nSchedule.resetClock = function() {\n  clock = defaultClock;\n};\n\nmodule.exports = Schedule;\n","\n/**\n * Expose `debug()` as the module.\n */\n\nmodule.exports = debug;\n\n/**\n * Create a debugger with the given `name`.\n *\n * @param {String} name\n * @return {Type}\n * @api public\n */\n\nfunction debug(name) {\n  if (!debug.enabled(name)) return function(){};\n\n  return function(fmt){\n    fmt = coerce(fmt);\n\n    var curr = new Date;\n    var ms = curr - (debug[name] || curr);\n    debug[name] = curr;\n\n    fmt = name\n      + ' '\n      + fmt\n      + ' +' + debug.humanize(ms);\n\n    // This hackery is required for IE8\n    // where `console.log` doesn't have 'apply'\n    window.console\n      && console.log\n      && Function.prototype.apply.call(console.log, console, arguments);\n  }\n}\n\n/**\n * The currently active debug mode names.\n */\n\ndebug.names = [];\ndebug.skips = [];\n\n/**\n * Enables a debug mode by name. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} name\n * @api public\n */\n\ndebug.enable = function(name) {\n  try {\n    localStorage.debug = name;\n  } catch(e){}\n\n  var split = (name || '').split(/[\\s,]+/)\n    , len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    name = split[i].replace('*', '.*?');\n    if (name[0] === '-') {\n      debug.skips.push(new RegExp('^' + name.substr(1) + '$'));\n    }\n    else {\n      debug.names.push(new RegExp('^' + name + '$'));\n    }\n  }\n};\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\ndebug.disable = function(){\n  debug.enable('');\n};\n\n/**\n * Humanize the given `ms`.\n *\n * @param {Number} m\n * @return {String}\n * @api private\n */\n\ndebug.humanize = function(ms) {\n  var sec = 1000\n    , min = 60 * 1000\n    , hour = 60 * min;\n\n  if (ms >= hour) return (ms / hour).toFixed(1) + 'h';\n  if (ms >= min) return (ms / min).toFixed(1) + 'm';\n  if (ms >= sec) return (ms / sec | 0) + 's';\n  return ms + 'ms';\n};\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\ndebug.enabled = function(name) {\n  for (var i = 0, len = debug.skips.length; i < len; i++) {\n    if (debug.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (var i = 0, len = debug.names.length; i < len; i++) {\n    if (debug.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Coerce `val`.\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n// persist\n\ntry {\n  if (window.localStorage) debug.enable(localStorage.debug);\n} catch(e){}\n","'use strict';\n\nvar uuid = require('uuid').v4;\nvar Store = require('./store');\nvar each = require('@ndhoule/each');\nvar Schedule = require('./schedule');\nvar debug = require('debug')('localstorage-retry');\nvar Emitter = require('component-emitter');\n\n// Some browsers don't support Function.prototype.bind, so just including a simplified version here\nfunction bind(func, obj) {\n  return function() {\n    return func.apply(obj, arguments);\n  };\n}\n\n/**\n * @callback processFunc\n * @param {Mixed} item The item added to the queue to process\n * @param {Function} done A function to call when processing is completed.\n *   @param {Error} Optional error parameter if the processing failed\n *   @param {Response} Optional response parameter to emit for async handling\n */\n\n/**\n * Constructs a Queue backed by localStorage\n *\n * @constructor\n * @param {String} name The name of the queue. Will be used to find abandoned queues and retry their items\n * @param {processFunc} fn The function to call in order to process an item added to the queue\n */\nfunction Queue(name, opts, fn) {\n  if (typeof opts === 'function') fn = opts;\n  this.name = name;\n  this.id = uuid();\n  this.fn = fn;\n  this.maxItems = opts.maxItems || Infinity;\n  this.maxAttempts = opts.maxAttempts || Infinity;\n\n  this.backoff = {\n    MIN_RETRY_DELAY: opts.minRetryDelay || 1000,\n    MAX_RETRY_DELAY: opts.maxRetryDelay || 30000,\n    FACTOR: opts.backoffFactor || 2,\n    JITTER: opts.backoffJitter || 0\n  };\n\n  // painstakingly tuned. that's why they're not \"easily\" configurable\n  this.timeouts = {\n    ACK_TIMER: 1000,\n    RECLAIM_TIMER: 3000,\n    RECLAIM_TIMEOUT: 10000,\n    RECLAIM_WAIT: 500\n  };\n\n  this.keys = {\n    IN_PROGRESS: 'inProgress',\n    QUEUE: 'queue',\n    ACK: 'ack',\n    RECLAIM_START: 'reclaimStart',\n    RECLAIM_END: 'reclaimEnd'\n  };\n\n  this._schedule = new Schedule();\n  this._processId = 0;\n\n  // Set up our empty queues\n  this._store = new Store(this.name, this.id, this.keys);\n  this._store.set(this.keys.IN_PROGRESS, {});\n  this._store.set(this.keys.QUEUE, []);\n\n  // bind recurring tasks for ease of use\n  this._ack = bind(this._ack, this);\n  this._checkReclaim = bind(this._checkReclaim, this);\n  this._processHead = bind(this._processHead, this);\n\n  this._running = false;\n}\n\n/**\n * Mix in event emitter\n */\n\nEmitter(Queue.prototype);\n\n/**\n * Starts processing the queue\n */\nQueue.prototype.start = function() {\n  if (this._running) {\n    this.stop();\n  }\n  this._running = true;\n  this._ack();\n  this._checkReclaim();\n  this._processHead();\n};\n\n/**\n * Stops processing the queue\n */\nQueue.prototype.stop = function() {\n  this._schedule.cancelAll();\n  this._running = false;\n};\n\n/**\n * Decides whether to retry. Overridable.\n *\n * @param {Object} item The item being processed\n * @param {Number} attemptNumber The attemptNumber (1 for first retry)\n * @param {Error} error The error from previous attempt, if there was one\n * @return {Boolean} Whether to requeue the message\n */\nQueue.prototype.shouldRetry = function(_, attemptNumber) {\n  if (attemptNumber > this.maxAttempts) return false;\n  return true;\n};\n\n/**\n * Calculates the delay (in ms) for a retry attempt\n *\n * @param {Number} attemptNumber The attemptNumber (1 for first retry)\n * @return {Number} The delay in milliseconds to wait before attempting a retry\n */\nQueue.prototype.getDelay = function(attemptNumber) {\n  var ms = this.backoff.MIN_RETRY_DELAY * Math.pow(this.backoff.FACTOR, attemptNumber);\n  if (this.backoff.JITTER) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.backoff.JITTER * ms);\n    if (Math.floor(rand * 10) < 5) {\n      ms -= deviation;\n    } else {\n      ms += deviation;\n    }\n  }\n  return Number(Math.min(ms, this.backoff.MAX_RETRY_DELAY).toPrecision(1));\n};\n\n/**\n * Adds an item to the queue\n *\n * @param {Mixed} item The item to process\n */\nQueue.prototype.addItem = function(item) {\n  this._enqueue({\n    item: item,\n    attemptNumber: 0,\n    time: this._schedule.now()\n  });\n};\n\n/**\n * Adds an item to the retry queue\n *\n * @param {Mixed} item The item to retry\n * @param {Number} attemptNumber The attempt number (1 for first retry)\n * @param {Error} [error] The error from previous attempt, if there was one\n */\nQueue.prototype.requeue = function(item, attemptNumber, error) {\n  if (this.shouldRetry(item, attemptNumber, error)) {\n    this._enqueue({\n      item: item,\n      attemptNumber: attemptNumber,\n      time: this._schedule.now() + this.getDelay(attemptNumber)\n    });\n  } else {\n    this.emit('discard', item, attemptNumber);\n  }\n};\n\nQueue.prototype._enqueue = function(entry) {\n  var queue = this._store.get(this.keys.QUEUE) || [];\n  queue = queue.slice(-(this.maxItems - 1));\n  queue.push(entry);\n  queue = queue.sort(function(a,b) {\n    return a.time - b.time;\n  });\n\n  this._store.set(this.keys.QUEUE, queue);\n\n  if (this._running) {\n    this._processHead();\n  }\n};\n\nQueue.prototype._processHead = function() {\n  var self = this;\n  var store = this._store;\n\n  // cancel the scheduled task if it exists\n  this._schedule.cancel(this._processId);\n\n  // Pop the head off the queue\n  var queue = store.get(this.keys.QUEUE) || [];\n  var inProgress = store.get(this.keys.IN_PROGRESS) || {};\n  var now = this._schedule.now();\n  var toRun = [];\n\n  function enqueue(el, id) {\n    toRun.push({\n      item: el.item,\n      done: function handle(err, res) {\n        var inProgress = store.get(self.keys.IN_PROGRESS) || {};\n        delete inProgress[id];\n        store.set(self.keys.IN_PROGRESS, inProgress);\n        self.emit('processed', err, res, el.item);\n        if (err) {\n          self.requeue(el.item, el.attemptNumber + 1, err);\n        }\n      }\n    });\n  }\n\n  var inProgressSize = Object.keys(inProgress).length;\n\n  while (queue.length && queue[0].time <= now && inProgressSize++ < self.maxItems) {\n    var el = queue.shift();\n    var id = uuid();\n\n    // Save this to the in progress map\n    inProgress[id] = {\n      item: el.item,\n      attemptNumber: el.attemptNumber,\n      time: self._schedule.now()\n    };\n\n    enqueue(el, id);\n  }\n\n  store.set(this.keys.QUEUE, queue);\n  store.set(this.keys.IN_PROGRESS, inProgress);\n\n  each(function(el) {\n    // TODO: handle fn timeout\n    try {\n      self.fn(el.item, el.done);\n    } catch (err) {\n      debug('Process function threw error: ' + err);\n    }\n  }, toRun);\n\n  // re-read the queue in case the process function finished immediately or added another item\n  queue = store.get(this.keys.QUEUE) || [];\n  this._schedule.cancel(this._processId);\n  if (queue.length > 0) {\n    this._processId = this._schedule.run(this._processHead, queue[0].time - now);\n  }\n};\n\n// Ack continuously to prevent other tabs from claiming our queue\nQueue.prototype._ack = function() {\n  this._store.set(this.keys.ACK, this._schedule.now());\n  this._store.set(this.keys.RECLAIM_START, null);\n  this._store.set(this.keys.RECLAIM_END, null);\n  this._schedule.run(this._ack, this.timeouts.ACK_TIMER);\n};\n\nQueue.prototype._checkReclaim = function() {\n  var self = this;\n\n  function tryReclaim(store) {\n    store.set(self.keys.RECLAIM_START, self.id);\n    store.set(self.keys.ACK, self._schedule.now());\n\n    self._schedule.run(function() {\n      if (store.get(self.keys.RECLAIM_START) !== self.id) return;\n      store.set(self.keys.RECLAIM_END, self.id);\n\n      self._schedule.run(function() {\n        if (store.get(self.keys.RECLAIM_END) !== self.id) return;\n        if (store.get(self.keys.RECLAIM_START) !== self.id) return;\n        self._reclaim(store.id);\n      }, self.timeouts.RECLAIM_WAIT);\n    }, self.timeouts.RECLAIM_WAIT);\n  }\n\n  function findOtherQueues(name) {\n    var res = [];\n    var storage = self._store.engine;\n    for (var i = 0; i < storage.length; i++) {\n      var k = storage.key(i);\n      var parts = k.split('.');\n      if (parts.length !== 3) continue;\n      if (parts[0] !== name) continue;\n      if (parts[2] !== 'ack') continue;\n      res.push(new Store(name, parts[1], self.keys));\n    }\n    return res;\n  }\n\n  each(function(store) {\n    if (store.id === self.id) return;\n    if (self._schedule.now() - store.get(self.keys.ACK) < self.timeouts.RECLAIM_TIMEOUT) return;\n    tryReclaim(store);\n  }, findOtherQueues(this.name));\n\n  this._schedule.run(this._checkReclaim, this.timeouts.RECLAIM_TIMER);\n};\n\nQueue.prototype._reclaim = function(id) {\n  var self = this;\n  var other = new Store(this.name, id, this.keys);\n\n  var our = {\n    queue: this._store.get(this.keys.QUEUE) || []\n  };\n\n  var their = {\n    inProgress: other.get(this.keys.IN_PROGRESS) || {},\n    queue: other.get(this.keys.QUEUE) || []\n  };\n\n  // add their queue to ours, resetting run-time to immediate and copying the attempt#\n  each(function(el) {\n    our.queue.push({\n      item: el.item,\n      attemptNumber: el.attemptNumber,\n      time: self._schedule.now()\n    });\n  }, their.queue);\n\n  // if the queue is abandoned, all the in-progress are failed. retry them immediately and increment the attempt#\n  each(function(el) {\n    our.queue.push({\n      item: el.item,\n      attemptNumber: el.attemptNumber + 1,\n      time: self._schedule.now()\n    });\n  }, their.inProgress);\n\n  our.queue = our.queue.sort(function(a,b) {\n    return a.time - b.time;\n  });\n\n  this._store.set(this.keys.QUEUE, our.queue);\n\n  // remove all keys\n  other.remove(this.keys.ACK);\n  other.remove(this.keys.RECLAIM_START);\n  other.remove(this.keys.RECLAIM_END);\n  other.remove(this.keys.IN_PROGRESS);\n  other.remove(this.keys.QUEUE);\n\n  // process the new items we claimed\n  this._processHead();\n};\n\nmodule.exports = Queue;\n","import Queue from \"@segment/localstorage-retry\";\nimport {\n  BASE_URL,\n  FLUSH_QUEUE_SIZE,\n  FLUSH_INTERVAL_DEFAULT,\n} from \"./constants\";\nimport { getCurrentTimeFormatted, handleError, replacer } from \"./utils\";\n\nimport { RudderPayload } from \"./RudderPayload\";\nimport logger from \"./logUtil\";\n// import * as XMLHttpRequestNode from \"Xmlhttprequest\";\n\nlet XMLHttpRequestNode;\nif (!process.browser) {\n  XMLHttpRequestNode = require(\"Xmlhttprequest\");\n}\n\nlet btoaNode;\nif (!process.browser) {\n  btoaNode = require(\"btoa\");\n}\n\nlet queueOptions;\n\nif(process.transport.beacon) {\n  queueOptions = {\n    maxRetryDelay: 360000,\n    minRetryDelay: 1000,\n    backoffFactor: 5,\n    maxAttempts: 50,\n    maxItems: 1000,\n    backoffJitter: 15\n  };\n} else {\n  queueOptions = {\n    maxRetryDelay: 360000,\n    minRetryDelay: 1000,\n    backoffFactor: 2,\n    maxAttempts: 10,\n    maxItems: 500,\n  };\n}\n\nconst MESSAGE_LENGTH = 32 * 1000; // ~32 Kb\n\n/**\n *\n * @class EventRepository responsible for adding events into\n * flush queue and sending data to rudder backend\n * in batch and maintains order of the event.\n */\nclass EventRepository {\n  /**\n   *Creates an instance of EventRepository.\n   * @memberof EventRepository\n   */\n  constructor() {\n    this.eventsBuffer = [];\n    this.writeKey = \"\";\n    this.url = \"\";\n    this.state = \"READY\";\n    this.batchSize = 0;\n\n    // previous implementation\n    // setInterval(this.preaparePayloadAndFlush, FLUSH_INTERVAL_DEFAULT, this);\n\n    this.payloadQueue = new Queue(process.transport.beacon? \"rudder_beacon\": \"rudder\", queueOptions, function (\n      item,\n      done\n    ) {\n      // apply sentAt at flush time and reset on each retry\n      item.message.sentAt = getCurrentTimeFormatted();\n      // send this item for processing, with a callback to enable queue to get the done status\n      eventRepository.processQueueElement(\n        item.url,\n        item.headers,\n        item.message,\n        10 * 1000,\n        function (err, res) {\n          if (err) {\n            return done(err);\n          }\n          done(null, res);\n        }\n      );\n    });\n\n    // start queue\n    this.payloadQueue.start();\n  }\n\n  /**\n   * the queue item proceesor\n   * @param {*} url to send requests to\n   * @param {*} headers\n   * @param {*} message\n   * @param {*} timeout\n   * @param {*} queueFn the function to call after request completion\n   */\n  processQueueElement(url, headers, message, timeout, queueFn) {\n    if(process.transport.beacon) {\n      try {\n        const data = { batch: [message] };\n        const payload = JSON.stringify(data, replacer);\n        const blob = new Blob([payload], headers);\n        const isPushed = navigator.sendBeacon(\n          url,\n          blob\n        );\n        if (!isPushed) {\n          handleError(\n            new Error( \"=====unable to push data, push to beacon queue failed\"))\n          queueFn(new Error(\"unable to push data\"));\n        } else {\n          queueFn(null, 200);\n        }\n      } catch (error) {\n        queueFn(error);\n      }\n    }\n    else {\n      try {\n        const xhr = new XMLHttpRequest();\n        xhr.open(\"POST\", url, true);\n        for (const k in headers) {\n          xhr.setRequestHeader(k, headers[k]);\n        }\n        xhr.timeout = timeout;\n        xhr.ontimeout = queueFn;\n        xhr.onerror = queueFn;\n        xhr.onreadystatechange = function () {\n          if (xhr.readyState === 4) {\n            if (xhr.status === 429 || (xhr.status >= 500 && xhr.status < 600)) {\n              handleError(\n                new Error(\n                  `request failed with status: ${xhr.status}${xhr.statusText} for url: ${url}`\n                )\n              );\n              queueFn(\n                new Error(\n                  `request failed with status: ${xhr.status}${xhr.statusText} for url: ${url}`\n                )\n              );\n            } else {\n              logger.debug(\n                `====== request processed successfully: ${xhr.status}`\n              );\n              queueFn(null, xhr.status);\n            }\n          }\n        };\n  \n        xhr.send(JSON.stringify(message, replacer));\n      } catch (error) {\n        queueFn(error);\n      }\n    }\n  }\n\n  /**\n   *\n   *\n   * @param {RudderElement} rudderElement\n   * @memberof EventRepository\n   */\n  enqueue(rudderElement, type) {\n    const message = rudderElement.getElementContent();\n\n    let headers = {}\n    if(process.transport.beacon) { \n      headers.type = 'text/plain';\n    }\n    else {\n      headers = {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Basic ${btoa(`${this.writeKey}:`)}`,\n        AnonymousId: btoa(message.anonymousId),\n      };\n    }\n    message.originalTimestamp = getCurrentTimeFormatted();\n    message.sentAt = getCurrentTimeFormatted(); // add this, will get modified when actually being sent\n\n    // check message size, if greater log an error\n    if (JSON.stringify(message).length > MESSAGE_LENGTH) {\n      logger.error(\n        \"[EventRepository] enqueue:: message length greater 32 Kb \",\n        message\n      );\n    }\n\n    // modify the url for event specific endpoints\n    const url = this.url.slice(-1) == \"/\" ? this.url.slice(0, -1) : this.url;\n    // add items to the queue\n    if(process.transport.beacon) {\n      this.payloadQueue.addItem({\n        url: `${url}/beacon/v1/batch?writeKey=${this.writeKey}`,\n        headers,\n        message,\n      });\n    } else {\n      this.payloadQueue.addItem({\n        url: `${url}/v1/${type}`,\n        headers,\n        message,\n      });\n    }\n  }\n}\nlet eventRepository = new EventRepository();\nexport { eventRepository as EventRepository };","import logger from \"../utils/logUtil\";\n\nconst ScriptLoader = (id, src) => {\n  logger.debug(`in script loader=== ${id}`);\n  const js = document.createElement(\"script\");\n  js.src = src;\n  //js.async = true;\n  js.async = false;\n  js.type = \"text/javascript\";\n  js.id = id;\n  const e = document.getElementsByTagName(\"script\")[0];\n  //logger.debug(\"==script==\", e);\n  e.parentNode.insertBefore(js, e);\n};\n\nexport default ScriptLoader;\n","/* eslint-disable new-cap */\n/* eslint-disable func-names */\n/* eslint-disable eqeqeq */\n/* eslint-disable no-prototype-builtins */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n/* eslint-disable no-sequences */\n/* eslint-disable no-multi-assign */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable import/extensions */\n/* eslint-disable no-param-reassign */\nimport Emitter from \"component-emitter\";\nimport after from \"after\";\nimport querystring from \"component-querystring\";\nimport merge from \"lodash.merge\";\nimport utm from \"@segment/utm-params\"\nimport {\n  getJSONTrimmed,\n  generateUUID,\n  handleError,\n  getDefaultPageProperties,\n  getUserProvidedConfigUrl,\n  findAllEnabledDestinations,\n  tranformToRudderNames,\n  transformToServerNames,\n  checkReservedKeywords,\n} from \"./utils/utils\";\nimport {\n  CONFIG_URL,\n  MAX_WAIT_FOR_INTEGRATION_LOAD,\n  INTEGRATION_LOAD_CHECK_INTERVAL,\n  INTEGRATION_URL,\n} from \"./utils/constants\";\nimport { integrations } from \"./integrations\";\nimport RudderElementBuilder from \"./utils/RudderElementBuilder\";\nimport Storage from \"./utils/storage\";\nimport { EventRepository } from \"./utils/EventRepository\";\nimport logger from \"./utils/logUtil\";\nimport { addDomEventHandlersImpl } from \"./utils/autotrack.js\";\nimport ScriptLoader from \"./integrations/ScriptLoader\";\nimport { commonNames } from \"./integrations/integration_cname\";\n\nconst queryDefaults = {\n  trait: \"ajs_trait_\",\n  prop: \"ajs_prop_\",\n};\n\n// https://unpkg.com/test-rudder-sdk@1.0.5/dist/browser.js\n\n/**\n * Add the rudderelement object to flush queue\n *\n * @param {RudderElement} rudderElement\n */\nfunction enqueue(rudderElement, type) {\n  if (!this.eventRepository) {\n    this.eventRepository = EventRepository;\n  }\n  this.eventRepository.enqueue(rudderElement, type);\n}\n\n/**\n * class responsible for handling core\n * event tracking functionalities\n */\nclass Analytics {\n  /**\n   * Creates an instance of Analytics.\n   * @memberof Analytics\n   */\n  constructor() {\n    this.configUrl = CONFIG_URL;\n    this.autoTrackHandlersRegistered = false;\n    this.autoTrackFeatureEnabled = false;\n    this.initialized = false;\n    this.trackValues = [];\n    this.eventsBuffer = [];\n    this.clientIntegrations = [];\n    this.loadOnlyIntegrations = {};\n    this.clientIntegrationObjects = undefined;\n    this.successfullyLoadedIntegration = [];\n    this.failedToBeLoadedIntegration = [];\n    this.toBeProcessedArray = [];\n    this.toBeProcessedByIntegrationArray = [];\n    this.storage = Storage;\n    this.eventRepository = EventRepository;\n    this.sendAdblockPage = false;\n    this.sendAdblockPageOptions = {};\n    this.clientSuppliedCallbacks = {};\n    this.readyCallback = () => {};\n    this.executeReadyCallback = undefined;\n    this.methodToCallbackMapping = {\n      syncPixel: \"syncPixelCallback\",\n    };\n    this.loaded = false;\n\n    this.pluginMap = {\n      GA: \"GAPlugin\",\n      HS: \"HSPlugin\",\n      HOTJAR: \"HotjarPlugin\",\n    };\n\n    this.globalQueue = [];\n    this.pauseProcessQueue = false;\n    this.clientRequiredIntegrations = [];\n\n    this.globalQueueEmitter = new Emitter();\n    this.globalQueueEmitter.on(\"process\", this.processGlobalQueue.bind(this));\n  }\n\n  /**\n   * initialize the user after load config\n   */\n  initializeUser() {\n    logger.debug(\"====initializing user========\");\n    this.userId =\n      this.storage.getUserId() != undefined ? this.storage.getUserId() : \"\";\n\n    this.userTraits =\n      this.storage.getUserTraits() != undefined\n        ? this.storage.getUserTraits()\n        : {};\n\n    this.groupId =\n      this.storage.getGroupId() != undefined ? this.storage.getGroupId() : \"\";\n\n    this.groupTraits =\n      this.storage.getGroupTraits() != undefined\n        ? this.storage.getGroupTraits()\n        : {};\n\n    this.anonymousId = this.processGetAnonymousId();\n\n    // save once for storing older values to encrypted\n    this.storage.setUserId(this.userId);\n    this.storage.setAnonymousId(this.anonymousId);\n    this.storage.setGroupId(this.groupId);\n    this.storage.setUserTraits(this.userTraits);\n    this.storage.setGroupTraits(this.groupTraits);\n  }\n\n  processGlobalQueue(object) {\n    while (!this.pauseProcessQueue && this.globalQueue.length > 0) {\n      try {\n        const element = [...this.globalQueue[0]];\n        const method = element[0];\n        element.shift();\n        this.globalQueue.shift();\n        this[method](...element);\n      } catch (error) {\n        this.pauseProcessQueue = false;\n        handleError(error);\n      }\n    }\n  }\n\n  /**\n   * Process the response from control plane and\n   * call initialize for integrations\n   *\n   * @param {*} status\n   * @param {*} response\n   * @memberof Analytics\n   */\n  processResponse(status, response) {\n    try {\n      logger.debug(`===in process response=== ${status}`);\n      response = JSON.parse(response);\n      if (\n        response.source.useAutoTracking &&\n        !this.autoTrackHandlersRegistered\n      ) {\n        this.autoTrackFeatureEnabled = true;\n        addDomEventHandlersImpl(this);\n        this.autoTrackHandlersRegistered = true;\n      }\n      response.source.destinations.forEach(function (destination, index) {\n        logger.debug(\n          `Destination ${index} Enabled? ${destination.enabled} Type: ${destination.destinationDefinition.name} Use Native SDK? ${destination.config.useNativeSDK}`\n        );\n        if (destination.enabled) {\n          this.clientIntegrations.push({\n            name: destination.destinationDefinition.name,\n            config: destination.config,\n          });\n        }\n      }, this);\n\n      logger.debug(\"this.clientIntegrations: \", this.clientIntegrations);\n      // intersection of config-plane native sdk destinations with sdk load time destination list\n      this.clientIntegrations = findAllEnabledDestinations(\n        this.loadOnlyIntegrations,\n        this.clientIntegrations\n      );\n\n      // remove from the list which don't have support yet in SDK\n      this.clientIntegrations = this.clientIntegrations.filter((intg) => {\n        return this.pluginMap[intg.name] != undefined;\n      });\n      this.emitGlobalQueue();\n\n      // place it under require\n      // this.init(this.clientIntegrations);\n    } catch (error) {\n      handleError(error);\n      logger.debug(\"===handling config BE response processing error===\");\n      logger.debug(\n        \"autoTrackHandlersRegistered\",\n        this.autoTrackHandlersRegistered\n      );\n      if (this.autoTrackFeatureEnabled && !this.autoTrackHandlersRegistered) {\n        addDomEventHandlersImpl(this);\n        this.autoTrackHandlersRegistered = true;\n      }\n      this.emitGlobalQueue();\n    }\n  }\n\n  requirePlugin(requiredIntegrations, integrationReadyCallback) {\n    logger.debug(\"==========downloading plugin============\");\n    requiredIntegrations = Array.isArray(requiredIntegrations)\n      ? requiredIntegrations\n      : [requiredIntegrations];\n    // Map back to sdk known names\n    requiredIntegrations = requiredIntegrations.map((intg) => {\n      return commonNames[intg];\n    });\n    var integrations = requiredIntegrations.filter((integrationName) => {\n      return this.clientRequiredIntegrations.indexOf(integrationName) < 0;\n    });\n    logger.debug(\n      \"=========integrations to be dowloaded========= \",\n      integrations\n    );\n\n    if (\n      !integrationReadyCallback ||\n      typeof integrationReadyCallback != \"function\"\n    ) {\n      integrationReadyCallback = () => {};\n    }\n\n    if (integrations.length > 0) {\n      this.pauseProcessQueue = true;\n      this.init(\n        this.clientIntegrations,\n        integrations,\n        integrationReadyCallback\n      );\n    }\n  }\n\n  /**\n   * Initialize integrations by addinfg respective scripts\n   * keep the instances reference in core\n   *\n   * @param {*} intgArray\n   * @returns\n   * @memberof Analytics\n   */\n  init(\n    fetchedFromBEIntgArray,\n    clientIsRequiringIntegrations,\n    integrationReadyCallback\n  ) {\n    const self = this;\n\n    if (!fetchedFromBEIntgArray || fetchedFromBEIntgArray.length == 0) {\n      integrationReadyCallback(this.getParamForIntegrationReadyCallback());\n      this.emitGlobalQueue();\n      return;\n    }\n\n    let getIntegration = (integrationSource, sourceConfigObject, callback) => {\n      const cb_ = callback.bind(this);\n      var xhrObj = new XMLHttpRequest();\n      // open and send a synchronous request\n      xhrObj.open(\"GET\", integrationSource, true);\n      xhrObj.onload = function () {\n        const { status } = xhrObj;\n        if (status == 200) {\n          logger.debug(\"status 200 \" + \"calling callback\");\n          cb_(null,xhrObj.responseText, sourceConfigObject);\n        } else {\n          handleError(\n            new Error(\n              `request failed with status: ${xhrObj.status} for url: ${integrationSource}`\n            )\n          );\n          cb_({error: `getIntegration request failed with status: ${xhrObj.status} for url: ${integrationSource}`, failedPluginFetch: sourceConfigObject});\n        }\n      };\n      xhrObj.ontimeout = function() {cb_({error: \"getIntegration request timedout\", failedPluginFetch: sourceConfigObject});}\n      xhrObj.onerror = function() {cb_({error: \"getIntegration request error\", failedPluginFetch: sourceConfigObject});}\n      xhrObj.send(\"\");\n    };\n\n    let processAfterLoadingIntegration = (error,response, intg) => {\n      if(error) {\n        this.failedToBeLoadedIntegration.push({name: error.failedPluginFetch.name})\n        this.makeIntegrationReady(this, integrationReadyCallback);\n      } else {\n        var pluginName = this.pluginMap[intg.name];\n        var se = document.createElement(\"script\");\n        se.type = \"text/javascript\";\n        se.text = response;\n        document.getElementsByTagName(\"head\")[0].appendChild(se);\n\n        const intgClass = window[pluginName]; //window.GaPlugin;\n        const destConfig = intg.config;\n        const intgInstance = new intgClass(destConfig, self);\n        intgInstance.init();\n        logger.debug(\"initializing destination: \", intg);\n        this.isInitialized(intgInstance).then(() => {\n          this.makeIntegrationReady(this, integrationReadyCallback);\n        });\n      }\n      \n    };\n\n    let intersectedIntgArr =\n      clientIsRequiringIntegrations.indexOf(\"All\") >= 0\n        ? fetchedFromBEIntgArray\n        : fetchedFromBEIntgArray.filter((intgObject) => {\n            // get the intersection of client required integrations and those enabled in config plane\n            return clientIsRequiringIntegrations.indexOf(intgObject.name) >= 0;\n          });\n    if (intersectedIntgArr && intersectedIntgArr.length > 0) {\n      for (let i = 0; i < intersectedIntgArr.length; i++) {\n        let intg = intersectedIntgArr[i];\n        try {\n          logger.debug(\n            \"[Analytics] init :: trying to initialize integration name:: \",\n            intg.name\n          );\n          this.clientRequiredIntegrations.push(intg.name);\n          var pluginName = this.pluginMap[intg.name];\n          var integrationSource = `${INTEGRATION_URL}${pluginName}.js`;\n\n          if (!window[pluginName]) {\n            getIntegration(\n              integrationSource,\n              intg,\n              processAfterLoadingIntegration,\n              this.emitGlobalQueue.bind(this)\n            );\n          }\n        } catch (e) {\n          logger.error(\n            \"[Analytics] initialize integration (integration.init()) failed :: \" + \n            intg.name + e\n          );\n          integrationReadyCallback(this.getParamForIntegrationReadyCallback());\n          if (i == intersectedIntgArr.length - 1) {\n            this.emitGlobalQueue();\n          }\n        }\n      }\n    } else {\n      integrationReadyCallback(this.getParamForIntegrationReadyCallback());\n      this.emitGlobalQueue();\n    }\n  }\n\n  emitGlobalQueue() {\n    //logger.error(\"======emitGlobalQueue=======\")\n    if(this.pauseProcessQueue) {\n      this.pauseProcessQueue = false;\n      this.globalQueueEmitter.emit(\"process\");\n    }\n    \n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  makeIntegrationReady(object, integrationReadyCallback) {\n    // clientRequiredIntegrations - contains integrations with requireIntegrations\n    // clientIntegrations - contains all deviceMode enabled integrations from sourceConfig\n    if (\n      object.successfullyLoadedIntegration.length +\n        object.failedToBeLoadedIntegration.length ===\n      object.clientRequiredIntegrations.length\n    ) {\n      logger.debug(\n        \"===calling integration onReady callback====\",\n        object.successfullyLoadedIntegration.length,\n        object.failedToBeLoadedIntegration.length\n      );\n\n      if (integrationReadyCallback) {\n        integrationReadyCallback(object.getParamForIntegrationReadyCallback());\n      }\n      object.emitGlobalQueue();\n    }\n  }\n\n  getParamForIntegrationReadyCallback() {\n    var successList = [];\n    var failureList = [];\n    this.successfullyLoadedIntegration.forEach((intg) => {\n      successList.push(intg.name);\n    });\n    this.failedToBeLoadedIntegration.forEach((intg) => {\n      failureList.push(intg.name);\n    });\n    var returnObject = {\n      success: [...successList],\n      failure: [...failureList],\n    };\n    return returnObject;\n  }\n\n  pause(time) {\n    return new Promise((resolve) => {\n      setTimeout(resolve, time);\n    });\n  }\n\n  isInitialized(instance, time = 0) {\n    return new Promise((resolve) => {\n      if (instance.isLoaded()) {\n        logger.debug(\"===integration loaded successfully====\", instance.name);\n        this.successfullyLoadedIntegration.push(instance);\n        return resolve(this);\n      }\n      if (time >= MAX_WAIT_FOR_INTEGRATION_LOAD) {\n        logger.debug(\"====max wait over====\");\n        this.failedToBeLoadedIntegration.push(instance);\n        return resolve(this);\n      }\n\n      this.pause(INTEGRATION_LOAD_CHECK_INTERVAL).then(() => {\n        logger.debug(\"====after pause, again checking====\");\n        return this.isInitialized(\n          instance,\n          time + INTEGRATION_LOAD_CHECK_INTERVAL\n        ).then(resolve);\n      });\n    });\n  }\n\n  /**\n   * Process page params and forward to page call\n   *\n   * @param {*} category\n   * @param {*} name\n   * @param {*} properties\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processPage(category, name, properties, options, callback) {\n    if (!this.loaded) return;\n    if (typeof options === \"function\") (callback = options), (options = null);\n    if (typeof properties === \"function\")\n      (callback = properties), (options = properties = null);\n    if (typeof name === \"function\")\n      (callback = name), (options = properties = name = null);\n    if (\n      typeof category === \"object\" &&\n      category != null &&\n      category != undefined\n    )\n      (options = name), (properties = category), (name = category = null);\n    if (typeof name === \"object\" && name != null && name != undefined)\n      (options = properties), (properties = name), (name = null);\n    if (typeof category === \"string\" && typeof name !== \"string\")\n      (name = category), (category = null);\n    if (this.sendAdblockPage && category != \"RudderJS-Initiated\") {\n      this.sendSampleRequest();\n    }\n    this.processPageView(category, name, properties, options, callback);\n  }\n\n  /**\n   * Process track params and forward to track call\n   *\n   * @param {*} event\n   * @param {*} properties\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processTrack(event, properties, options, callback) {\n    if (!this.loaded) return;\n    if (typeof options === \"function\") (callback = options), (options = null);\n    if (typeof properties === \"function\")\n      (callback = properties), (options = null), (properties = null);\n\n    this.processTrackEvent(event, properties, options, callback);\n  }\n\n  /**\n   * Process identify params and forward to indentify  call\n   *\n   * @param {*} userId\n   * @param {*} traits\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processIdentify(userId, traits, options, callback) {\n    if (!this.loaded) return;\n    if (typeof options === \"function\") (callback = options), (options = null);\n    if (typeof traits === \"function\")\n      (callback = traits), (options = null), (traits = null);\n    if (typeof userId === \"object\")\n      (options = traits), (traits = userId), (userId = this.userId);\n\n    this.processIdentifyUser(userId, traits, options, callback);\n  }\n\n  /**\n   *\n   * @param {*} to\n   * @param {*} from\n   * @param {*} options\n   * @param {*} callback\n   */\n  processAlias(to, from, options, callback) {\n    if (!this.loaded) return;\n    if (typeof options === \"function\") (callback = options), (options = null);\n    if (typeof from === \"function\")\n      (callback = from), (options = null), (from = null);\n    if (typeof from === \"object\") (options = from), (from = null);\n\n    const rudderElement = new RudderElementBuilder().setType(\"alias\").build();\n    rudderElement.message.previousId =\n      from || (this.userId ? this.userId : this.processGetAnonymousId());\n    rudderElement.message.userId = to;\n\n    this.processAndSendDataToDestinations(\n      \"alias\",\n      rudderElement,\n      options,\n      callback\n    );\n  }\n\n  /**\n   *\n   * @param {*} to\n   * @param {*} from\n   * @param {*} options\n   * @param {*} callback\n   */\n  processGroup(groupId, traits, options, callback) {\n    if (!this.loaded) return;\n    if (!arguments.length) return;\n\n    if (typeof options === \"function\") (callback = options), (options = null);\n    if (typeof traits === \"function\")\n      (callback = traits), (options = null), (traits = null);\n    if (typeof groupId === \"object\")\n      (options = traits), (traits = groupId), (groupId = this.groupId);\n\n    this.groupId = groupId;\n    this.storage.setGroupId(this.groupId);\n\n    const rudderElement = new RudderElementBuilder().setType(\"group\").build();\n    if (traits) {\n      for (const key in traits) {\n        this.groupTraits[key] = traits[key];\n      }\n    } else {\n      this.groupTraits = {};\n    }\n    this.storage.setGroupTraits(this.groupTraits);\n\n    this.processAndSendDataToDestinations(\n      \"group\",\n      rudderElement,\n      options,\n      callback\n    );\n  }\n\n  /**\n   * Send page call to Rudder BE and to initialized integrations\n   *\n   * @param {*} category\n   * @param {*} name\n   * @param {*} properties\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processPageView(category, name, properties, options, callback) {\n    const rudderElement = new RudderElementBuilder().setType(\"page\").build();\n    if (!properties) {\n      properties = {};\n    }\n    if (name) {\n      rudderElement.message.name = name;\n      properties.name = name;\n    }\n    if (category) {\n      rudderElement.message.category = category;\n      properties.category = category;\n    }\n    rudderElement.message.properties = this.getPageProperties(properties); // properties;\n\n    this.trackPage(rudderElement, options, callback);\n  }\n\n  /**\n   * Send track call to Rudder BE and to initialized integrations\n   *\n   * @param {*} event\n   * @param {*} properties\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processTrackEvent(event, properties, options, callback) {\n    const rudderElement = new RudderElementBuilder().setType(\"track\").build();\n    if (event) {\n      rudderElement.setEventName(event);\n    }\n    if (properties) {\n      rudderElement.setProperty(properties);\n    } else {\n      rudderElement.setProperty({});\n    }\n\n    this.trackEvent(rudderElement, options, callback);\n  }\n\n  /**\n   * Send identify call to Rudder BE and to initialized integrations\n   *\n   * @param {*} userId\n   * @param {*} traits\n   * @param {*} options\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processIdentifyUser(userId, traits, options, callback) {\n    if (userId && this.userId && userId !== this.userId) {\n      this.processReset();\n    }\n    this.userId = userId;\n    this.storage.setUserId(this.userId);\n\n    const rudderElement = new RudderElementBuilder()\n      .setType(\"identify\")\n      .build();\n    if (traits) {\n      for (const key in traits) {\n        this.userTraits[key] = traits[key];\n      }\n      this.storage.setUserTraits(this.userTraits);\n    }\n\n    this.identifyUser(rudderElement, options, callback);\n  }\n\n  /**\n   * Identify call supporting rudderelement from builder\n   *\n   * @param {*} rudderElement\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  identifyUser(rudderElement, options, callback) {\n    if (rudderElement.message.userId) {\n      this.userId = rudderElement.message.userId;\n      this.storage.setUserId(this.userId);\n    }\n\n    if (\n      rudderElement &&\n      rudderElement.message &&\n      rudderElement.message.context &&\n      rudderElement.message.context.traits\n    ) {\n      this.userTraits = {\n        ...rudderElement.message.context.traits,\n      };\n      this.storage.setUserTraits(this.userTraits);\n    }\n\n    this.processAndSendDataToDestinations(\n      \"identify\",\n      rudderElement,\n      options,\n      callback\n    );\n  }\n\n  /**\n   * Page call supporting rudderelement from builder\n   *\n   * @param {*} rudderElement\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  trackPage(rudderElement, options, callback) {\n    this.processAndSendDataToDestinations(\n      \"page\",\n      rudderElement,\n      options,\n      callback\n    );\n  }\n\n  /**\n   * Track call supporting rudderelement from builder\n   *\n   * @param {*} rudderElement\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  trackEvent(rudderElement, options, callback) {\n    this.processAndSendDataToDestinations(\n      \"track\",\n      rudderElement,\n      options,\n      callback\n    );\n  }\n\n  /**\n   * Process and send data to destinations along with rudder BE\n   *\n   * @param {*} type\n   * @param {*} rudderElement\n   * @param {*} callback\n   * @memberof Analytics\n   */\n  processAndSendDataToDestinations(type, rudderElement, options, callback) {\n    try {\n      if (!this.anonymousId) {\n        this.processSetAnonymousId();\n      }\n\n      // assign page properties to context\n      // rudderElement.message.context.page = getDefaultPageProperties();\n\n      rudderElement.message.context.traits = {\n        ...this.userTraits,\n      };\n\n      logger.debug(\"anonymousId: \", this.anonymousId);\n      rudderElement.message.anonymousId = this.anonymousId;\n      rudderElement.message.userId = rudderElement.message.userId\n        ? rudderElement.message.userId\n        : this.userId;\n\n      if (type == \"group\") {\n        if (this.groupId) {\n          rudderElement.message.groupId = this.groupId;\n        }\n        if (this.groupTraits) {\n          rudderElement.message.traits = {\n            ...this.groupTraits,\n          };\n        }\n      }\n\n      this.processOptionsParam(rudderElement, options);\n      logger.debug(JSON.stringify(rudderElement));\n\n      // check for reserved keys and log\n      checkReservedKeywords(rudderElement.message, type);\n\n      // structure user supplied integrations object to rudder format\n      if (Object.keys(rudderElement.message.integrations).length > 0) {\n        tranformToRudderNames(rudderElement.message.integrations);\n      }\n\n      // if not specified at event level, All: true is default\n      const clientSuppliedIntegrations = rudderElement.message.integrations;\n\n      // get intersection between config plane native enabled destinations\n      // (which were able to successfully load on the page) vs user supplied integrations\n      const succesfulLoadedIntersectClientSuppliedIntegrations = findAllEnabledDestinations(\n        clientSuppliedIntegrations,\n        this.successfullyLoadedIntegration\n      );\n\n      // try to first send to all integrations, if list populated from BE\n      try {\n        succesfulLoadedIntersectClientSuppliedIntegrations.forEach((obj) => {\n          if (!obj.isFailed || !obj.isFailed()) {\n            if (obj[type]) {\n              obj[type](rudderElement);\n            }\n          }\n        });\n      } catch (err) {\n        handleError({ message: `[sendToNative]:${err}` });\n      }\n\n      // convert integrations object to server identified names, kind of hack now!\n      transformToServerNames(rudderElement.message.integrations);\n\n      // self analytics process, send to rudder\n      enqueue.call(this, rudderElement, type);\n\n      logger.debug(`${type} is called `);\n      if (callback) {\n        callback();\n      }\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  /**\n   * add campaign parsed details under context\n   * @param {*} rudderElement \n   */\n  addCampaignInfo(rudderElement) {\n    const {search} = getDefaultPageProperties();\n    let campaign = utm(search);\n    if(rudderElement.message.context && typeof rudderElement.message.context === \"object\") {\n      rudderElement.message.context.campaign = campaign;\n    } \n  }\n\n  /**\n   * process options parameter\n   * Apart from top level keys merge everyting under context\n   * context.page's default properties are overriden by same keys of \n   * provided properties in case of page call \n   *\n   * @param {*} rudderElement\n   * @param {*} options\n   * @memberof Analytics\n   */\n  processOptionsParam(rudderElement, options) {\n    const { type, properties } = rudderElement.message;\n\n    this.addCampaignInfo(rudderElement);\n\n    // assign page properties to context.page\n    rudderElement.message.context.page =\n      type == \"page\"\n        ? this.getContextPageProperties(properties)\n        : this.getContextPageProperties();\n\n    const toplevelElements = [\n      \"integrations\",\n      \"anonymousId\",\n      \"originalTimestamp\",\n    ];\n    for (const key in options) {\n      if (toplevelElements.includes(key)) {\n        rudderElement.message[key] = options[key];\n      } else if (key !== \"context\") {\n        rudderElement.message.context = merge(rudderElement.message.context, {\n          [key]: options[key],\n        });\n      } else {\n        if (typeof options[key] === \"object\" && options[key] != null) {\n          rudderElement.message.context = merge(rudderElement.message.context, {\n            ...options[key],\n          });\n        } else {\n          logger.error(\n            \"[Analytics: processOptionsParam] context passed in options is not object\"\n          );\n        }\n      }\n    }\n  }\n\n  getPageProperties(properties, options) {\n    const defaultPageProperties = getDefaultPageProperties();\n    const optionPageProperties = options && options.page ? options.page : {};\n    for (const key in defaultPageProperties) {\n      if (properties[key] === undefined) {\n        properties[key] =\n          optionPageProperties[key] || defaultPageProperties[key];\n      }\n    }\n    return properties;\n  }\n\n  // Assign page properties to context.page if the same property is not provided under context.page\n  getContextPageProperties(properties) {\n    const defaultPageProperties = getDefaultPageProperties();\n    let contextPageProperties = {};\n    for (const key in defaultPageProperties) {\n      contextPageProperties[key] =\n        properties && properties[key]\n          ? properties[key]\n          : defaultPageProperties[key];\n    }\n    return contextPageProperties;\n  }\n\n  /**\n   * Clear user information\n   *\n   * @memberof Analytics\n   */\n  processReset() {\n    logger.debug(\"========resetting=======\");\n    if (!this.loaded) return;\n    this.userId = \"\";\n    this.userTraits = {};\n    this.groupId = \"\";\n    this.groupTraits = {};\n    this.storage.clear();\n  }\n\n  processGetAnonymousId() {\n    // if (!this.loaded) return;\n    this.anonymousId = this.storage.getAnonymousId();\n    if (!this.anonymousId) {\n      this.processSetAnonymousId();\n    }\n    logger.debug(\"========= get anonId returned: ========\" + this.anonymousId);\n    return this.anonymousId;\n  }\n\n  processSetAnonymousId(anonymousId) {\n    // if (!this.loaded) return;\n    this.anonymousId = anonymousId || generateUUID();\n    logger.debug(\"=====setting anonId======\" + this.anonymousId);\n    this.storage.setAnonymousId(this.anonymousId);\n  }\n\n  isValidWriteKey(writeKey) {\n    if (\n      !writeKey ||\n      typeof writeKey !== \"string\" ||\n      writeKey.trim().length == 0\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  isValidServerUrl(serverUrl) {\n    if (\n      !serverUrl ||\n      typeof serverUrl !== \"string\" ||\n      serverUrl.trim().length == 0\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  processGetConfigFromBackend() {\n    logger.debug(\"======fetching config from backend=========\");\n    try {\n      this.pauseProcessQueue = true;\n      getJSONTrimmed(\n        this,\n        this.configUrl,\n        this.eventRepository.writeKey,\n        this.processResponse,\n        this.emitGlobalQueue.bind(this)\n      );\n    } catch (error) {\n      handleError(error);\n      if (this.autoTrackFeatureEnabled && !this.autoTrackHandlersRegistered) {\n        addDomEventHandlersImpl(this);\n      }\n      this.emitGlobalQueue()\n    }\n  }\n\n  /**\n   * Call control pane to get client configs\n   *\n   * @param {*} writeKey\n   * @memberof Analytics\n   */\n  load(writeKey, serverUrl, options) {\n    logger.debug(\"inside load \");\n    if (this.loaded) return;\n    this.configUrl = CONFIG_URL;\n    if (!this.isValidWriteKey(writeKey) || !this.isValidServerUrl(serverUrl)) {\n      handleError({\n        message:\n          \"[Analytics] load:: Unable to load due to wrong writeKey or serverUrl\",\n      });\n      throw Error(\"failed to initialize\");\n    }\n    if (options && options.logLevel) {\n      logger.setLogLevel(options.logLevel);\n    }\n    if (options && options.integrations) {\n      Object.assign(this.loadOnlyIntegrations, options.integrations);\n      tranformToRudderNames(this.loadOnlyIntegrations);\n    }\n    if (options && options.configUrl) {\n      this.configUrl = getUserProvidedConfigUrl(options.configUrl);\n    }\n    if (options && options.sendAdblockPage) {\n      this.sendAdblockPage = true;\n    }\n    if (options && options.sendAdblockPageOptions) {\n      if (typeof options.sendAdblockPageOptions === \"object\") {\n        this.sendAdblockPageOptions = options.sendAdblockPageOptions;\n      }\n    }\n    if (options && options.clientSuppliedCallbacks) {\n      // convert to rudder recognised method names\n      const tranformedCallbackMapping = {};\n      Object.keys(this.methodToCallbackMapping).forEach((methodName) => {\n        if (this.methodToCallbackMapping.hasOwnProperty(methodName)) {\n          if (\n            options.clientSuppliedCallbacks[\n              this.methodToCallbackMapping[methodName]\n            ]\n          ) {\n            tranformedCallbackMapping[methodName] =\n              options.clientSuppliedCallbacks[\n                this.methodToCallbackMapping[methodName]\n              ];\n          }\n        }\n      });\n      Object.assign(this.clientSuppliedCallbacks, tranformedCallbackMapping);\n      this.registerCallbacks(true);\n    }\n\n    this.eventRepository.writeKey = writeKey;\n    if (serverUrl) {\n      this.eventRepository.url = serverUrl;\n    }\n    //this.initializeUser();\n    //this.eventRepository.initializeTransportMechanism();\n    //this.loaded = true;\n    if (\n      options &&\n      options.valTrackingList &&\n      options.valTrackingList.push == Array.prototype.push\n    ) {\n      this.trackValues = options.valTrackingList;\n    }\n    if (options && options.useAutoTracking) {\n      this.autoTrackFeatureEnabled = true;\n      if (this.autoTrackFeatureEnabled && !this.autoTrackHandlersRegistered) {\n        addDomEventHandlersImpl(this);\n        this.autoTrackHandlersRegistered = true;\n        logger.debug(\n          \"autoTrackHandlersRegistered\",\n          this.autoTrackHandlersRegistered\n        );\n      }\n    }\n\n     // add a timer to check for the global in-memory queue\n    // after load finishes\n    setTimeout(this.processGlobalQueue.bind(this), 0)\n  }\n\n  processReady(callback) {\n    logger.debug(\"====processing ready callback==========\");\n    if (!this.loaded) return;\n    if (typeof callback === \"function\") {\n      this.readyCallback = callback;\n      // since our globalqueue only processes events after load, we can directly call ready callback from here\n      // as our Analytics object is ready with fetching of configs from backend\n      this.readyCallback(this.clientIntegrations);\n      return;\n    }\n    logger.error(\"ready callback is not a function\");\n  }\n\n  initializeCallbacks() {\n    Object.keys(this.methodToCallbackMapping).forEach((methodName) => {\n      if (this.methodToCallbackMapping.hasOwnProperty(methodName)) {\n        this.on(methodName, () => {});\n      }\n    });\n  }\n\n  registerCallbacks(calledFromLoad) {\n    if (!calledFromLoad) {\n      Object.keys(this.methodToCallbackMapping).forEach((methodName) => {\n        if (this.methodToCallbackMapping.hasOwnProperty(methodName)) {\n          if (window.rudderanalytics) {\n            if (\n              typeof window.rudderanalytics[\n                this.methodToCallbackMapping[methodName]\n              ] === \"function\"\n            ) {\n              this.clientSuppliedCallbacks[methodName] =\n                window.rudderanalytics[\n                  this.methodToCallbackMapping[methodName]\n                ];\n            }\n          }\n        }\n      });\n    }\n\n    Object.keys(this.clientSuppliedCallbacks).forEach((methodName) => {\n      if (this.clientSuppliedCallbacks.hasOwnProperty(methodName)) {\n        logger.debug(\n          \"registerCallbacks\",\n          methodName,\n          this.clientSuppliedCallbacks[methodName]\n        );\n        this.on(methodName, this.clientSuppliedCallbacks[methodName]);\n      }\n    });\n  }\n\n  sendSampleRequest() {\n    ScriptLoader(\n      \"ad-block\",\n      \"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n    );\n  }\n\n  /**\n   * parse the given query string into usable Rudder object\n   * @param {*} query\n   */\n  parseQueryString(query) {\n    function getTraitsFromQueryObject(qObj) {\n      const traits = {};\n      Object.keys(qObj).forEach((key) => {\n        if (key.substr(0, queryDefaults.trait.length) == queryDefaults.trait) {\n          traits[key.substr(queryDefaults.trait.length)] = qObj[key];\n        }\n      });\n\n      return traits;\n    }\n\n    function getEventPropertiesFromQueryObject(qObj) {\n      const props = {};\n      Object.keys(qObj).forEach((key) => {\n        if (key.substr(0, queryDefaults.prop.length) == queryDefaults.prop) {\n          props[key.substr(queryDefaults.prop.length)] = qObj[key];\n        }\n      });\n\n      return props;\n    }\n\n    const returnObj = {};\n    const queryObject = querystring.parse(query);\n    const userTraits = getTraitsFromQueryObject(queryObject);\n    const eventProps = getEventPropertiesFromQueryObject(queryObject);\n    if (queryObject.ajs_uid) {\n      returnObj.userId = queryObject.ajs_uid;\n      returnObj.traits = userTraits;\n    }\n    if (queryObject.ajs_aid) {\n      returnObj.anonymousId = queryObject.ajs_aid;\n    }\n    if (queryObject.ajs_event) {\n      returnObj.event = queryObject.ajs_event;\n      returnObj.properties = eventProps;\n    }\n\n    return returnObj;\n  }\n\n  initUser() {\n    logger.debug(\"======pushing initializeUser in queue ==========\");\n    // this is internal call and shouldbe in front of the queue\n    this.globalQueue.unshift(\n      [\"initializeUser\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n\n  requireIntegration() {\n    logger.debug(\"======pushing requirePlugin in queue ==========\");\n      this.globalQueue.push(\n        [\"requirePlugin\"].concat(Array.prototype.slice.call(arguments))\n      );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n\n  ready() {\n    logger.debug(\"======pushing processReady in queue ==========\");\n    this.globalQueue.push(\n      [\"processReady\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n\n  track() {\n    logger.debug(\"======pushing processTrack in queue ==========\");\n    this.globalQueue.push(\n      [\"processTrack\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  page() {\n    logger.debug(\"======pushing processPage in queue ==========\");\n    this.globalQueue.push(\n      [\"processPage\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  identify() {\n    logger.debug(\"======pushing processIdentify in queue ==========\");\n    this.globalQueue.push(\n      [\"processIdentify\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  group() {\n    logger.debug(\"======pushing processGroup in queue ==========\");\n    this.globalQueue.push(\n      [\"processGroup\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  alias() {\n    logger.debug(\"======pushing processAlias in queue ==========\");\n    this.globalQueue.push(\n      [\"processAlias\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  reset() {\n    logger.debug(\"======pushing processReset in queue ==========\");\n    this.globalQueue.push(\n      [\"processReset\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  setAnonymousId() {\n    logger.debug(\"======pushing setAnonymousId in queue ==========\");\n    this.globalQueue.push(\n      [\"processSetAnonymousId\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n  getAnonymousId() {\n    logger.debug(\"======pushing getAnonymousId in queue ==========\");\n    this.globalQueue.push(\n      [\"processGetAnonymousId\"].concat(Array.prototype.slice.call(arguments))\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n\n  getConfigFromBackend() {\n    logger.debug(\"======pushing getConfigFromBackend in queue ==========\");\n    // this is internal call and shouldbe in front of the queue\n    this.globalQueue.unshift(\n      [\"processGetConfigFromBackend\"].concat(\n        Array.prototype.slice.call(arguments)\n      )\n    );\n    this.loaded && this.globalQueueEmitter.emit(\"process\");\n  }\n}\n\nfunction pushDataToAnalyticsArray(argumentsArray, obj) {\n  if (obj.anonymousId) {\n    if (obj.userId) {\n      argumentsArray.unshift(\n        [\"setAnonymousId\", obj.anonymousId],\n        [\"identify\", obj.userId, obj.traits]\n      );\n    } else {\n      argumentsArray.unshift([\"setAnonymousId\", obj.anonymousId]);\n    }\n  } else if (obj.userId) {\n    argumentsArray.unshift([\"identify\", obj.userId, obj.traits]);\n  }\n\n  if (obj.event) {\n    argumentsArray.push([\"track\", obj.event, obj.properties]);\n  }\n}\n\nconst instance = new Analytics();\n\nEmitter(instance);\n\nwindow.addEventListener(\n  \"error\",\n  (e) => {\n    handleError(e, instance);\n  },\n  true\n);\n\n// if (process.browser) {\n// test for adblocker\n// instance.sendSampleRequest()\n\n// initialize supported callbacks\ninstance.initializeCallbacks();\n\n// register supported callbacks\ninstance.registerCallbacks(false);\nconst eventsPushedAlready =\n  !!window.rudderanalytics &&\n  window.rudderanalytics.push == Array.prototype.push;\n\nconst argumentsArray = window.rudderanalytics;\n\nwhile (argumentsArray && argumentsArray[0] && argumentsArray[0][0] !== \"load\") {\n  argumentsArray.shift();\n}\nif (\n  argumentsArray &&\n  argumentsArray.length > 0 &&\n  argumentsArray[0][0] === \"load\"\n) {\n  const method = argumentsArray[0][0];\n  argumentsArray[0].shift();\n  logger.debug(\"=====from init, calling method:: \", method);\n  instance[method](...argumentsArray[0]);\n  argumentsArray.shift();\n}\n\n// once loaded, parse querystring of the page url to send events\nconst parsedQueryObject = instance.parseQueryString(window.location.search);\n\npushDataToAnalyticsArray(argumentsArray, parsedQueryObject);\n\n// after load get configFromBackend\nargumentsArray.push([\"getConfigFromBackend\"]);\n\nargumentsArray.push([\"initUser\"]);\n\nif (eventsPushedAlready && argumentsArray && argumentsArray.length > 0) {\n  for (let i = 0; i < argumentsArray.length; i++) {\n    const event = [...argumentsArray[i]];\n    const method = event[0];\n    event.shift();\n    logger.debug(\"=====from init, calling method:: \", method);\n    instance[method](...event);\n  }\n  //instance.globalQueueEmitter.emit(\"process\");\n}\n\ninstance.loaded = true;\n\nconst ready = instance.ready.bind(instance);\nconst identify = instance.identify.bind(instance);\nconst page = instance.page.bind(instance);\nconst track = instance.track.bind(instance);\nconst alias = instance.alias.bind(instance);\nconst group = instance.group.bind(instance);\nconst reset = instance.reset.bind(instance);\nconst load = instance.load.bind(instance);\nconst initialized = (instance.initialized = true);\nconst getAnonymousId = instance.getAnonymousId.bind(instance);\nconst setAnonymousId = instance.setAnonymousId.bind(instance);\nconst requireIntegration = instance.requireIntegration.bind(instance);\n\nexport {\n  initialized,\n  ready,\n  page,\n  track,\n  load,\n  identify,\n  reset,\n  alias,\n  group,\n  getAnonymousId,\n  setAnonymousId,\n  requireIntegration,\n};\n"],"names":["Emitter","obj","key","prototype","mixin","module","on","addEventListener","event","fn","this","_callbacks","push","once","off","apply","arguments","removeListener","removeAllListeners","removeEventListener","length","cb","callbacks","i","splice","emit","args","Array","len","slice","listeners","hasListeners","exports","str","replace","pattern","Object","toString","decode","decodeURIComponent","e","trim","charAt","pairs","split","m","parts","exec","reIsHostCtor","reIsUint","typedArrayTags","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","freeProcess","process","nodeUtil","types","require","binding","nodeIsTypedArray","isTypedArray","func","thisArg","call","uid","transform","arrayProto","funcProto","objectProto","coreJsData","funcToString","hasOwnProperty","maskSrcKey","keys","IE_PROTO","nativeObjectToString","objectCtorString","reIsNative","RegExp","Buffer","undefined","Symbol","Uint8Array","allocUnsafe","getPrototype","getPrototypeOf","arg","objectCreate","create","propertyIsEnumerable","symToStringTag","toStringTag","defineProperty","getNative","nativeIsBuffer","isBuffer","nativeMax","Math","max","nativeNow","Date","now","Map","nativeCreate","baseCreate","object","proto","isObject","result","Hash","entries","index","clear","entry","set","ListCache","MapCache","Stack","data","__data__","size","arrayLikeKeys","value","inherited","isArr","isArray","isArg","isArguments","isBuff","isType","skipIndexes","n","iteratee","baseTimes","String","isIndex","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","array","configurable","enumerable","writable","has","get","pop","hash","map","string","getMapData","LARGE_ARRAY_SIZE","fromRight","baseFor","keysFunc","iterable","props","baseGetTag","isOwn","tag","unmasked","getRawTag","objectToString","baseIsArguments","isObjectLike","baseIsNative","isMasked","isFunction","test","toSource","baseKeysIn","nativeKeysIn","isProto","isPrototype","baseMerge","source","srcIndex","customizer","stack","srcValue","mergeFunc","safeGet","stacked","newValue","isCommon","isTyped","isArrayLike","copyArray","buffer","isDeep","constructor","copy","cloneBuffer","typedArray","arrayBuffer","byteLength","byteOffset","Ctor","isPlainObject","isNew","copyObject","keysIn","toPlainObject","initCloneObject","baseMergeDeep","baseRest","start","setToString","otherArgs","overRest","identity","type","getValue","count","lastCalled","stamp","remaining","shortOut","other","isLength","baseUnary","assigner","merge","sources","guard","isIterateeCall","hop","strCharAt","toStr","context","prop","indexKeys","target","pred","results","val","objectKeys","objToString","isNumber","arrayEach","iterator","baseEach","ks","collection","accumulator","TypeError","each","parse","require$$0","utm","query","param","substring","params","substr","allowedKeys","name","term","medium","content","foldl","acc","port","protocol","location","url","a","document","createElement","href","host","hostname","pathname","search","indexOf","isAbsolute","window","LOG_LEVEL","logger","[object Object]","logLevel","toUpperCase","console","log","commonNames","All","all","Google Analytics","GoogleAnalytics","GA","Google Ads","GoogleAds","GOOGLEADS","Braze","BRAZE","Chartbeat","CHARTBEAT","Comscore","COMSCORE","Customerio","Customer.io","FB Pixel","Facebook Pixel","FB_PIXEL","Google Tag Manager","GTM","Hotjar","hotjar","HOTJAR","Hubspot","HUBSPOT","Intercom","INTERCOM","Keen","Keen.io","KEEN","Kissmetrics","KISSMETRICS","Lotame","LOTAME","Visual Website Optimizer","VWO","OPTIMIZELY","Optimizely","FULLSTORY","Fullstory","BUGSNAG","TVSQUARED","clientToServerNames","CUSTOMERIO","FACEBOOK_PIXEL","HS","TVSQUUARED","ReservedPropertyKeywords","MessageType","TRACK","PAGE","IDENTIFY","ECommerceEvents","PRODUCTS_SEARCHED","PRODUCT_LIST_VIEWED","PRODUCT_LIST_FILTERED","PROMOTION_VIEWED","PROMOTION_CLICKED","PRODUCT_CLICKED","PRODUCT_VIEWED","PRODUCT_ADDED","PRODUCT_REMOVED","CART_VIEWED","CHECKOUT_STARTED","CHECKOUT_STEP_VIEWED","CHECKOUT_STEP_COMPLETED","PAYMENT_INFO_ENTERED","ORDER_UPDATED","ORDER_COMPLETED","ORDER_REFUNDED","ORDER_CANCELLED","COUPON_ENTERED","COUPON_APPLIED","COUPON_DENIED","COUPON_REMOVED","PRODUCT_ADDED_TO_WISHLIST","PRODUCT_REMOVED_FROM_WISHLIST","WISH_LIST_PRODUCT_ADDED_TO_CART","PRODUCT_SHARED","CART_SHARED","PRODUCT_REVIEWED","CONFIG_URL","replacer","generateUUID","d","getTime","performance","c","r","random","floor","getCurrentTimeFormatted","toISOString","handleError","error","analyticsInstance","sampleAdBlockTest","errorMessage","message","Event","localName","src","id","includes","page","path","title","sendAdblockPageOptions","getDefaultPageProperties","canonicalUrl","getCanonicalUrl","referrer","hashIndex","getUrl","tags","getElementsByTagName","getAttribute","tranformToRudderNames","integrationObject","forEach","findAllEnabledDestinations","sdkSuppliedIntegrations","configPlaneEnabledIntegrations","enabledList","allValue","intg","intgValue","RudderApp","build","namespace","version","RudderLibraryInfo","RudderOSInfo","RudderScreenInfo","density","width","height","RudderContext","app","traits","library","os","screen","devicePixelRatio","userAgent","navigator","locale","language","browserLanguage","device","network","RudderMessage","channel","action","messageId","originalTimestamp","anonymousId","userId","properties","integrations","messageType","Error","values","checkForKey","category","SCREEN","propertyName","RudderElement","rudderProperty","rudderUserProperty","user_properties","eventName","RudderElementBuilder","inputRudderProperty","rudderPropertyBuilder","inputRudderUserProperty","rudderUserPropertyBuilder","eventType","element","setUserId","setType","setEventName","setProperty","setUserProperty","CryptoJS","F","subtype","C","C_lib","lib","Base","extend","overrides","mixIn","init","$super","instance","clone","WordArray","words","sigBytes","encoder","Hex","stringify","concat","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","nBytes","rcache","m_w","m_z","mask","_r","C_enc","enc","hexChars","bite","join","hexStr","hexStrLength","parseInt","Latin1","latin1Chars","fromCharCode","latin1Str","latin1StrLength","charCodeAt","Utf8","escape","utf8Str","unescape","encodeURIComponent","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","min","offset","_doProcessBlock","processedWords","C_algo","Hasher","cfg","_doReset","update","messageUpdate","finalize","_doFinalize","_createHelper","hasher","_createHmacHelper","HMAC","algo","Base64","_map","base64Chars","triplet","j","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bits1","bits2","parseLoop","T","abs","sin","MD5","_hash","M","offset_i","M_offset_i","H","M_offset_0","M_offset_1","M_offset_2","M_offset_3","M_offset_4","M_offset_5","M_offset_6","M_offset_7","M_offset_8","M_offset_9","M_offset_10","M_offset_11","M_offset_12","M_offset_13","M_offset_14","M_offset_15","b","FF","GG","HH","II","nBitsTotal","nBitsLeft","nBitsTotalH","nBitsTotalL","H_i","x","s","t","HmacMD5","W","SHA1","HmacSHA1","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","EvpKDF","keySize","iterations","compute","password","salt","derivedKey","derivedKeyWords","block","Cipher","C_mode","BlockCipherMode","CBC","Pkcs7","CipherParams","OpenSSLFormatter","SerializableCipher","OpenSSLKdf","PasswordBasedCipher","createEncryptor","_ENC_XFORM_MODE","createDecryptor","_DEC_XFORM_MODE","xformMode","_xformMode","_key","dataUpdate","ivSize","selectCipherStrategy","cipher","encrypt","decrypt","ciphertext","StreamCipher","mode","iv","Encryptor","Decryptor","_cipher","_iv","xorBlock","_prevBlock","processBlock","encryptBlock","thisBlock","decryptBlock","pad","blockSizeBytes","nPaddingBytes","paddingWord","paddingWords","padding","unpad","BlockCipher","modeCreator","_mode","__creator","finalProcessedBlocks","cipherParams","formatter","format","OpenSSL","openSSLStr","ciphertextWords","encryptor","cipherCfg","algorithm","_parse","kdf","execute","derivedParams","SBOX","INV_SBOX","SUB_MIX_0","SUB_MIX_1","SUB_MIX_2","SUB_MIX_3","INV_SUB_MIX_0","INV_SUB_MIX_1","INV_SUB_MIX_2","INV_SUB_MIX_3","xi","sx","x2","x4","x8","RCON","AES","_nRounds","_keyPriorReset","keyWords","ksRows","keySchedule","_keySchedule","ksRow","invKeySchedule","_invKeySchedule","invKsRow","_doCryptBlock","nRounds","s0","s1","s2","s3","round","t0","t1","t2","t3","_isBuffer","valueOf","l","flags","multiline","ignoreCase","h","options","match","parseFloat","toLowerCase","long","ms","plural","short","disabled","enabled","curr","prevTime","diff","prev","useColors","color","selectColor","coerce","formatters","formatArgs","logFn","bind","enable","namespaces","save","skips","names","prevColor","colors","load","storage","debug","humanize","lastC","removeItem","documentElement","style","firebug","exception","table","$1","chrome","local","localStorage","localstorage","v","JSON","encode","maxage","expires","domain","toUTCString","samesite","secure","cookie","err","pair","toDrop","Number","resultsLength","Boolean","shallowCombiner","deepCombiner","defaultsDeep","defaultsWith","combiner","drop","rest","objectTypes","function","runInContext","SyntaxError","nativeJSON","getClass","isProperty","attempt","errorFunc","isExtended","isSupported","serialized","stringifySupported","toJSON","parseSupported","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","charIndexBuggy","forOwn","callback","Properties","dontEnums","property","isConstructor","hasProperty","Escapes","92","34","8","12","10","13","9","toPaddedString","serializeDate","getData","year","month","date","time","hours","minutes","seconds","milliseconds","Months","getDay","dateToJSON","nativeStringify","filter","nativeToJSON","escapeChar","character","charCode","escaped","reEscape","quote","lastIndex","serialize","whitespace","indentation","className","prefix","Index","Source","Unescapes","47","98","116","110","102","114","abort","lex","begin","position","isSigned","temp","hasMembers","walk","previousJSON","JSON3","isRestored","noConflict","levels","opts","last","Cookie","_options","topDomain","defaults","remove","store","win","doc","defaultVal","transact","transactionFn","getAll","ret","deserialize","isLocalStorageNameSupported","setItem","getItem","addBehavior","storageOwner","storageContainer","ActiveXObject","open","write","close","w","frames","body","withIEStorage","storeFunction","unshift","appendChild","removeChild","forbiddenCharsRegex","ieKeyFix","setAttribute","removeAttribute","attributes","XMLDocument","attr","testKey","Store","encryptValue","decryptValue","getRandomValues","crypto","msCrypto","rnds8","rnds","byteToHex","_nodeId","_clockseq","buf","bth","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","rng","msecs","nsecs","dt","tl","tmh","bytesToUuid","ii","uuid","v4","v1","inMemoryStore","isSupportedNatively","defaultEngine","inMemoryEngine","optionalEngine","engine","compoundKey","_createValidKey","json","quotaExceeded","code","number","isQuotaExceeded","_swapEngine","defaultClock","setTimeout","clearTimeout","clock","Schedule","tasks","nextId","run","task","timeout","_handle","cancel","cancelAll","setClock","newClock","resetClock","fmt","disable","toFixed","require$$1","Queue","maxItems","Infinity","maxAttempts","backoff","MIN_RETRY_DELAY","minRetryDelay","MAX_RETRY_DELAY","maxRetryDelay","FACTOR","backoffFactor","JITTER","backoffJitter","timeouts","ACK_TIMER","RECLAIM_TIMER","RECLAIM_TIMEOUT","RECLAIM_WAIT","IN_PROGRESS","QUEUE","ACK","RECLAIM_START","RECLAIM_END","_schedule","_processId","_store","_ack","_checkReclaim","_processHead","_running","stop","shouldRetry","_","attemptNumber","getDelay","pow","rand","deviation","toPrecision","addItem","item","_enqueue","requeue","queue","sort","inProgress","toRun","enqueue","el","done","res","inProgressSize","shift","_reclaim","tryReclaim","findOtherQueues","our","their","queueOptions","eventRepository","eventsBuffer","writeKey","state","batchSize","payloadQueue","sentAt","processQueueElement","headers","queueFn","xhr","XMLHttpRequest","k","setRequestHeader","ontimeout","onerror","onreadystatechange","readyState","status","statusText","send","rudderElement","getElementContent","Content-Type","Authorization","btoa","AnonymousId","queryDefaults","EventRepository","configUrl","autoTrackHandlersRegistered","autoTrackFeatureEnabled","initialized","trackValues","clientIntegrations","loadOnlyIntegrations","clientIntegrationObjects","successfullyLoadedIntegration","failedToBeLoadedIntegration","toBeProcessedArray","toBeProcessedByIntegrationArray","Storage","sendAdblockPage","clientSuppliedCallbacks","readyCallback","executeReadyCallback","methodToCallbackMapping","syncPixel","loaded","pluginMap","globalQueue","pauseProcessQueue","clientRequiredIntegrations","globalQueueEmitter","processGlobalQueue","getUserId","userTraits","getUserTraits","groupId","getGroupId","groupTraits","getGroupTraits","processGetAnonymousId","setAnonymousId","setGroupId","setUserTraits","setGroupTraits","method","response","useAutoTracking","destinations","destination","destinationDefinition","config","useNativeSDK","emitGlobalQueue","requiredIntegrations","integrationReadyCallback","integrationName","fetchedFromBEIntgArray","clientIsRequiringIntegrations","getParamForIntegrationReadyCallback","getIntegration","integrationSource","sourceConfigObject","cb_","xhrObj","onload","responseText","failedPluginFetch","processAfterLoadingIntegration","makeIntegrationReady","pluginName","se","text","intgInstance","intgClass","isInitialized","then","intersectedIntgArr","intgObject","successList","failureList","success","failure","Promise","resolve","isLoaded","pause","sendSampleRequest","processPageView","processTrackEvent","processIdentifyUser","to","from","previousId","processAndSendDataToDestinations","getPageProperties","trackPage","trackEvent","processReset","identifyUser","processSetAnonymousId","processOptionsParam","contextualTraits","trait","contextTrait","checkReservedKeywords","succesfulLoadedIntersectClientSuppliedIntegrations","isFailed","campaign","addCampaignInfo","getContextPageProperties","toplevelElements","defaultPageProperties","optionPageProperties","contextPageProperties","getAnonymousId","serverUrl","getJSONTrimmed","processResponse","isValidWriteKey","isValidServerUrl","setLogLevel","assign","getUserProvidedConfigUrl","tranformedCallbackMapping","methodName","registerCallbacks","valTrackingList","calledFromLoad","rudderanalytics","js","async","parentNode","insertBefore","ScriptLoader","returnObj","queryObject","querystring","qObj","getTraitsFromQueryObject","eventProps","getEventPropertiesFromQueryObject","ajs_uid","ajs_aid","ajs_event","initializeCallbacks","eventsPushedAlready","argumentsArray","pushDataToAnalyticsArray","parseQueryString","ready","identify","track","alias","group","requireIntegration"],"mappings":"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"}